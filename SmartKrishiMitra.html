<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Krishi Mitra</title>
    <style>
        :root {
            --primary-color: #3cb371;
            --primary-dark: #2e8b57;
            --secondary-color: #ffcc00;
            --accent-color: #1e90ff;
            --background-color: #f0f4f8;
            --surface-color: #ffffff;
            --text-color: #343a40;
            --text-muted: #6c757d;
            --border-color: #e0e6ed;
            --shadow-light: 0 2px 4px rgba(0, 0, 0, 0.08);
            --shadow-medium: 0 6px 12px rgba(0, 0, 0, 0.12);
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --success-color: #28a745;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
        }

        /* Login Page Styles */
        .login-page {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .login-container {
            max-width: 400px;
            width: 90%;
            padding: 2rem;
            background-color: var(--surface-color);
            border-radius: 16px;
            box-shadow: var(--shadow-medium);
        }

        .logo-container {
            text-align: center;
            margin-bottom: 2rem;
        }

        .logo-placeholder {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        h1 {
            color: var(--primary-dark);
            margin-bottom: 0.5rem;
        }

        .tagline {
            color: var(--text-muted);
            margin-bottom: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        input[type="text"],
        input[type="password"],
        input[type="email"],
        input[type="tel"] {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.2s;
        }

        input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        button {
            width: 100%;
            padding: 0.75rem;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        button:hover {
            background-color: var(--primary-dark);
        }

        .form-footer {
            text-align: center;
            margin-top: 1.5rem;
        }

        .form-footer a {
            color: var(--primary-color);
            text-decoration: none;
        }

        .form-footer a:hover {
            text-decoration: underline;
        }

        .language-toggle {
            text-align: center;
            margin-top: 1rem;
        }

        .language-toggle button {
            width: auto;
            padding: 0.5rem 1rem;
            background-color: var(--secondary-color);
            color: #333;
        }

        .error-message {
            color: var(--danger-color);
            font-size: 0.9rem;
            margin-top: 0.5rem;
            display: none;
        }

        .success-message {
            color: var(--success-color);
            font-size: 0.9rem;
            margin-top: 0.5rem;
            display: none;
        }

        /* Main Application Styles */
        .app-container {
            display: none;
        }

        .shell {
            max-width: 1200px;
            margin: 1rem auto;
            padding: 1.5rem;
            background-color: var(--surface-color);
            border-radius: 16px;
            box-shadow: var(--shadow-medium);
        }

        .topbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-placeholder {
            font-size: 2.5rem;
        }

        header h1 {
            margin: 0;
            color: var(--primary-dark);
            font-weight: 700;
            font-size: 1.8rem;
        }

        header p {
            margin: 0;
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        #langBtn {
            padding: 0.7rem 1.4rem;
            border: none;
            border-radius: 8px;
            background-color: var(--secondary-color);
            color: #333;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: var(--shadow-light);
        }

        #langBtn:hover {
            background-color: #e6b800;
            transform: translateY(-2px);
        }

        nav {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-bottom: 2rem;
        }

        nav a {
            padding: 0.6rem 1.2rem;
            border: 1px solid var(--border-color);
            border-radius: 50px;
            text-decoration: none;
            color: var(--text-color);
            font-weight: 500;
            transition: all 0.2s ease-in-out;
            box-shadow: var(--shadow-light);
            cursor: pointer;
        }

        nav a.active, nav a:hover {
            background: var(--primary-color);
            color: #fff;
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }

        .page-content {
            display: none;
        }

        .page-content.active {
            display: block;
        }

        .page-content h2 {
            color: var(--primary-dark);
            margin-top: 0;
            margin-bottom: 1.5rem;
            font-size: 1.6rem;
            font-weight: 600;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .widget-card {
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            box-shadow: var(--shadow-light);
        }

        .climate-box {
            background: #f0f8ff;
        }

        .image-card {
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow-light);
        }

        .image-card-placeholder {
            width: 100%;
            height: 150px;
            background-color: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            font-size: 3rem;
        }

        .image-card-body {
            padding: 10px;
            text-align: center;
        }

        .marquee-box {
            background: #fff3cd;
            padding: 10px;
            border-radius: 8px;
            margin-top: 20px;
            box-shadow: var(--shadow-light);
        }

        .fact-box {
            margin: 20px 0;
            padding: 15px;
            border-left: 5px solid #ffcc00;
            background: #fffaf0;
            border-radius: 8px;
            box-shadow: var(--shadow-light);
        }

        .quick-links {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 20px;
        }

        .quick-links a {
            padding: 10px 20px;
            color: #fff;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
        }

        button, input[type="submit"] {
            padding: 0.7rem 1.4rem;
            border: none;
            border-radius: 8px;
            background-color: var(--primary-color);
            color: #fff;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: var(--shadow-light);
        }

        button:hover, input[type="submit"]:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }

        input[type="text"], input[type="file"], select, input[type="number"], input[type="date"], textarea {
            display: block;
            width: 100%;
            padding: 0.7rem;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            margin-bottom: 1rem;
        }

        textarea {
            min-height: 100px;
            resize: vertical;
        }

        .table-container {
            overflow-x: auto;
        }

        table {
            width: 100%;
            min-width: 500px;
            border-collapse: collapse;
            margin-top: 1.5rem;
            box-shadow: var(--shadow-light);
            border-radius: 8px;
            overflow: hidden;
        }

        th {
            background-color: #f8f9fa;
            font-weight: 600;
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        footer {
            margin-top: 2rem;
            text-align: center;
            font-size: 0.9rem;
            color: var(--text-muted);
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
        }

        .crop-calculator {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            box-shadow: var(--shadow-light);
        }

        .calculator-result {
            margin-top: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
        }

        .alert-notification {
            padding: 12px 15px;
            border-radius: 8px;
            margin: 10px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .alert-warning {
            background: #fff3cd;
            border-left: 4px solid var(--warning-color);
        }

        .alert-success {
            background: #d4edda;
            border-left: 4px solid var(--success-color);
        }

        .alert-danger {
            background: #f8d7da;
            border-left: 4px solid var(--danger-color);
        }

        .detection-results {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            background-color: #f8f9fa;
        }

        .detection-item {
            margin-bottom: 15px;
            padding: 10px;
            border-left: 4px solid var(--primary-color);
            background-color: white;
            border-radius: 4px;
        }

        .detection-title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .detection-confidence {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-bottom: 8px;
        }

        .detection-recommendation {
            font-size: 0.95rem;
            color: var(--text-color);
        }

        .detection-severity-low {
            border-left-color: var(--success-color);
        }

        .detection-severity-medium {
            border-left-color: var(--warning-color);
        }

        .detection-severity-high {
            border-left-color: var(--danger-color);
        }

        .community-post {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            box-shadow: var(--shadow-light);
        }

        .community-post-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .post-author {
            font-weight: 600;
            color: var(--primary-dark);
        }

        .post-time {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .crop-cycle-tracker {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            box-shadow: var(--shadow-light);
        }

        .progress-bar {
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            margin: 10px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary-color);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .progress-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        .contact-btn, .apply-btn {
            padding: 0.5rem 1rem;
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .contact-btn:hover, .apply-btn:hover {
            background: #1c7ed6;
        }

        /* NEW FEATURES STYLES */
        
        /* Crop Rotation Planner */
        .crop-rotation-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .rotation-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: var(--shadow-light);
        }
        
        .rotation-card h3 {
            margin-bottom: 15px;
            color: var(--primary-dark);
        }
        
        .rotation-schedule {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .season-box {
            flex: 1;
            text-align: center;
            padding: 10px;
            border-radius: 8px;
            background: #f8f9fa;
        }
        
        .season-box.active {
            background: var(--primary-color);
            color: white;
        }
        
        /* Soil Health Monitor */
        .soil-health-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .soil-metric {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: var(--shadow-light);
            text-align: center;
        }
        
        .soil-value {
            font-size: 1.5rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .soil-status {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .status-good {
            background: #d4edda;
            color: var(--success-color);
        }
        
        .status-fair {
            background: #fff3cd;
            color: var(--warning-color);
        }
        
        .status-poor {
            background: #f8d7da;
            color: var(--danger-color);
        }
        
        /* Smart Irrigation */
        .irrigation-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .irrigation-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: var(--shadow-light);
        }
        
        .water-level {
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            margin: 15px 0;
            overflow: hidden;
        }
        
        .water-fill {
            height: 100%;
            background: #1e90ff;
            border-radius: 10px;
            transition: width 0.5s ease;
        }
        
        /* Farm Equipment Rental */
        .equipment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .equipment-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow-light);
        }
        
        .equipment-image {
            height: 150px;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }
        
        .equipment-body {
            padding: 15px;
        }
        
        .equipment-price {
            font-weight: bold;
            color: var(--primary-dark);
            margin: 10px 0;
        }
        
        /* Digital Payment */
        .payment-options {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .payment-option {
            flex: 1;
            min-width: 120px;
            padding: 15px;
            text-align: center;
            background: white;
            border-radius: 8px;
            box-shadow: var(--shadow-light);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .payment-option:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-medium);
        }
        
        .payment-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        /* Farm Diary */
        .diary-container {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: var(--shadow-light);
            margin: 20px 0;
        }
        
        .diary-entry {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .diary-date {
            font-weight: bold;
            color: var(--primary-dark);
        }
        
        .diary-content {
            margin-top: 5px;
        }
        
        /* Training Resources */
        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .resource-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow-light);
        }
        
        .resource-image {
            height: 150px;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }
        
        .resource-body {
            padding: 15px;
        }
        
        .resource-title {
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .resource-duration {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        /* NEW FEATURE: Farm Equipment Rental */
        .equipment-rental-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .equipment-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow-light);
        }
        
        .equipment-image {
            height: 150px;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }
        
        .equipment-body {
            padding: 15px;
        }
        
        .equipment-price {
            font-weight: bold;
            color: var(--primary-dark);
            margin: 10px 0;
        }
        
        /* NEW FEATURE: Digital Payments */
        .payment-container {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: var(--shadow-light);
            margin: 20px 0;
        }
        
        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .payment-method {
            padding: 15px;
            text-align: center;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .payment-method:hover {
            background: var(--primary-color);
            color: white;
        }
        
        /* NEW FEATURE: Farm Diary */
        .diary-input {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .diary-input input, .diary-input textarea {
            flex: 1;
        }
        
        /* NEW FEATURE: Training Resources */
        .training-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .training-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow-light);
        }
        
        .training-image {
            height: 150px;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }
        
        .training-body {
            padding: 15px;
        }
        
        .training-title {
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .training-duration {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .shell {
                margin: 0;
                padding: 1rem;
                border-radius: 0;
                box-shadow: none;
            }
            .topbar {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }
            header h1 {
                font-size: 1.5rem;
            }
            nav {
                gap: 0.5rem;
            }
            nav a {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }
            .page-content h2 {
                font-size: 1.4rem;
            }
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Logout button */
        .logout-btn {
            padding: 0.5rem 1rem;
            background-color: var(--danger-color);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div id="loginPage" class="login-page">
        <div class="login-container">
            <div class="logo-container">
                <div class="logo-placeholder">ðŸŒ±</div>
                <h1 id="headerTitle">Smart Krishi Mitra</h1>
                <p id="headerTagline" class="tagline">Digital companion: Seed â†’ Harvest â†’ Market</p>
            </div>

            <form id="loginForm">
                <div class="form-group">
                    <label for="username" id="usernameLabel">Username or Phone</label>
                    <input type="text" id="username" name="username" required>
                    <div class="error-message" id="usernameError"></div>
                </div>

                <div class="form-group">
                    <label for="password" id="passwordLabel">Password</label>
                    <input type="password" id="password" name="password" required>
                    <div class="error-message" id="passwordError"></div>
                </div>

                <button type="submit" id="loginButton">Login</button>
            </form>

            <div class="form-footer">
                <p id="noAccount">Don't have an account? <a href="#" id="registerLink">Register here</a></p>
                <p id="forgotPassword"><a href="#" id="forgotPasswordLink">Forgot your password?</a></p>
            </div>

            <div class="language-toggle">
                <button id="langBtn" onclick="toggleLanguage()">à¤®à¤°à¤¾à¤ à¥€</button>
            </div>
        </div>

        <!-- Registration Form (Hidden by default) -->
        <div id="registrationContainer" class="login-container" style="display: none;">
            <div class="logo-container">
                <div class="logo-placeholder">ðŸŒ±</div>
                <h1 id="registerTitle">Create Account</h1>
                <p id="registerTagline" class="tagline">Join Smart Krishi Mitra today</p>
            </div>

            <form id="registrationForm">
                <div class="form-group">
                    <label for="fullName" id="fullNameLabel">Full Name</label>
                    <input type="text" id="fullName" name="fullName" required>
                    <div class="error-message" id="fullNameError"></div>
                </div>

                <div class="form-group">
                    <label for="phone" id="phoneLabel">Phone Number</label>
                    <input type="tel" id="phone" name="phone" required>
                    <div class="error-message" id="phoneError"></div>
                </div>

                <div class="form-group">
                    <label for="email" id="emailLabel">Email (Optional)</label>
                    <input type="email" id="email" name="email">
                    <div class="error-message" id="emailError"></div>
                </div>

                <div class="form-group">
                    <label for="location" id="locationLabel">Location/Village</label>
                    <input type="text" id="location" name="location" required>
                    <div class="error-message" id="locationError"></div>
                </div>

                <div class="form-group">
                    <label for="regPassword" id="regPasswordLabel">Password</label>
                    <input type="password" id="regPassword" name="regPassword" required>
                    <div class="error-message" id="regPasswordError"></div>
                </div>

                <div class="form-group">
                    <label for="confirmPassword" id="confirmPasswordLabel">Confirm Password</label>
                    <input type="password" id="confirmPassword" name="confirmPassword" required>
                    <div class="error-message" id="confirmPasswordError"></div>
                </div>

                <button type="submit" id="registerButton">Create Account</button>
            </form>

            <div class="form-footer">
                <p id="haveAccount">Already have an account? <a href="#" id="loginLink">Login here</a></p>
            </div>

            <div class="language-toggle">
                <button id="regLangBtn" onclick="toggleLanguage()">à¤®à¤°à¤¾à¤ à¥€</button>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="appContainer" class="app-container">
        <div class="shell">
            <div class="topbar">
                <header class="logo-container">
                    <div class="logo-placeholder">ðŸŒ±</div>
                    <div>
                        <h1 id="appHeaderTitle">Smart Krishi Mitra</h1>
                        <p id="appHeaderTagline">Digital companion: Seed â†’ Harvest â†’ Market</p>
                    </div>
                </header>
                <div>
                    <button id="appLangBtn" onclick="toggleLanguage()">à¤®à¤°à¤¾à¤ à¥€</button>
                    <button class="logout-btn" onclick="logout()">Logout</button>
                </div>
            </div>

            <nav id="mainNav">
                <a data-key="dashboard" onclick="showPage('dashboard', this)" class="active">Dashboard</a>
                <a data-key="marketplace" onclick="showPage('marketplace', this)">Marketplace</a>
                <a data-key="community" onclick="showPage('community', this)">Community</a>
                <a data-key="storage" onclick="showPage('storage', this)">Storage</a>
                <a data-key="govt" onclick="showPage('govt', this)">Govt Schemes</a>
                <a data-key="planner" onclick="showPage('planner', this)">Planner</a>
                <a data-key="assistant" onclick="showPage('assistant', this)">AI Assistant</a>
                <a data-key="camera" onclick="showPage('camera', this)">Camera</a>
                <a data-key="weather" onclick="showPage('weather', this)">Weather</a>
                <a data-key="calculator" onclick="showPage('calculator', this)">Calculator</a>
                <!-- NEW NAVIGATION ITEMS -->
                <a data-key="cropRotation" onclick="showPage('cropRotation', this)">Crop Rotation</a>
                <a data-key="soilHealth" onclick="showPage('soilHealth', this)">Soil Health</a>
                <a data-key="irrigation" onclick="showPage('irrigation', this)">Smart Irrigation</a>
                <a data-key="equipment" onclick="showPage('equipment', this)">Equipment Rental</a>
                <a data-key="payments" onclick="showPage('payments', this)">Digital Payments</a>
                <a data-key="diary" onclick="showPage('diary', this)">Farm Diary</a>
                <a data-key="training" onclick="showPage('training', this)">Training</a>
            </nav>

            <!-- DASHBOARD -->
            <section id="dashboard" class="page-content active">
                <div class="dashboard-grid">
                    <div class="widget-card climate-box">
                        <h2 id="climateTitle">ðŸŒ¦ Climate Update</h2>
                        <p id="climateSummary" style="font-weight:bold; margin-top:10px;"></p>
                        <a id="viewDetailedLink" onclick="showPage('weather', document.querySelector('nav a[onclick*=\'weather\']'))" style="display:inline-block; margin-top:10px; padding:8px 12px; border-radius:8px; background:#0077cc; color:#fff; text-decoration:none; cursor: pointer;">
                            View Detailed Weather
                        </a>
                    </div>

                    <div class="widget-card" style="background:#e8f5e8;">
                        <h2 id="priceAlertTitle">ðŸ’° Price Alert</h2>
                        <p id="currentPrice" style="font-size:1.2rem; font-weight:bold; margin:10px 0;">â‚¹3,250/ton</p>
                        <p id="priceTrend" style="color:var(--success-color);">â†‘ 2.5% from last week</p>
                    </div>

                    <div class="widget-card" style="background:#fff3cd;">
                        <h2 id="taskReminderTitle">ðŸ“… Today's Tasks</h2>
                        <ul id="taskList" style="text-align:left; margin-top:10px;">
                            <li>ðŸŒ… Morning irrigation</li>
                            <li>ðŸŒ¾ Check for pest signs</li>
                            <li>ðŸ’§ Fertilizer application</li>
                        </ul>
                    </div>
                </div>

                <div class="crop-cycle-tracker">
                    <h2 id="cropCycleTitle">ðŸŒ± Your Sugarcane Crop Cycle</h2>
                    <div class="progress-labels">
                        <span id="progressStart">Planting</span>
                        <span id="progressCurrent">65% Complete</span>
                        <span id="progressEnd">Harvest</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 65%;"></div>
                    </div>
                    <p id="cycleEstimate">Estimated harvest: 45 days remaining</p>
                </div>

                <div class="marquee-box">
                    <marquee behavior="scroll" direction="left" scrollamount="4" id="marqueeText">
                        ðŸŒ± Govt announces subsidy on organic fertilizers â€¢ ðŸšœ New high-yielding sugarcane hybrid released (Co 0238) â€¢ ðŸ’¸ Sugarcane Fair and Remunerative Price (FRP) increased this year
                    </marquee>
                </div>

                <div class="fact-box">
                    <h3 id="didYouKnowTitle">ðŸ’¡ Did you know?</h3>
                    <p id="factBox"></p>
                </div>

                <div class="quick-links">
                    <a id="qlMarket" onclick="showPage('marketplace', document.querySelector('nav a[onclick*=\'marketplace\']'))" style="background:#28a745;">ðŸ›’ Marketplace</a>
                    <a id="qlGovt" onclick="showPage('govt', document.querySelector('nav a[onclick*=\'govt\']'))" style="background:#ffc107; color:#333;">ðŸ“‘ Govt Schemes</a>
                    <a id="qlAssistant" onclick="showPage('assistant', document.querySelector('nav a[onclick*=\'assistant\']'))" style="background:#17a2b8;">ðŸ¤– AI Assistant</a>
                    <a id="qlCalculator" onclick="showPage('calculator', document.querySelector('nav a[onclick*=\'calculator\']'))" style="background:#6f42c1;">ðŸ§® Calculator</a>
                </div>
                
                <!-- NEW DASHBOARD WIDGETS -->
                <div class="dashboard-grid" style="margin-top: 30px;">
                    <div class="widget-card" style="background:#e3f2fd;">
                        <h2>ðŸŒ¾ Crop Rotation</h2>
                        <p>Next rotation: Soybean</p>
                        <p style="margin-top:10px; font-size:0.9rem;">Due in 15 days</p>
                        <button onclick="showPage('cropRotation', document.querySelector('nav a[onclick*=\'cropRotation\']'))" style="margin-top:10px; background:#1e90ff;">View Plan</button>
                    </div>
                    
                    <div class="widget-card" style="background:#e8f5e9;">
                        <h2>ðŸŒ± Soil Health</h2>
                        <p>Nitrogen: Optimal</p>
                        <p>pH: 6.8 (Good)</p>
                        <button onclick="showPage('soilHealth', document.querySelector('nav a[onclick*=\'soilHealth\']'))" style="margin-top:10px; background:#2e8b57;">Check Details</button>
                    </div>
                    
                    <div class="widget-card" style="background:#fff3cd;">
                        <h2>ðŸ’§ Irrigation Status</h2>
                        <p>Next irrigation: Tomorrow</p>
                        <p>Water level: 75%</p>
                        <button onclick="showPage('irrigation', document.querySelector('nav a[onclick*=\'irrigation\']'))" style="margin-top:10px; background:#ffc107; color:#333;">Manage</button>
                    </div>
                    
                    <div class="widget-card" style="background:#f3e5f5;">
                        <h2>ðŸ”§ Equipment</h2>
                        <p>Tractor available</p>
                        <p>Harvester booked</p>
                        <button onclick="showPage('equipment', document.querySelector('nav a[onclick*=\'equipment\']'))" style="margin-top:10px; background:#6f42c1;">Rent Now</button>
                    </div>
                </div>
            </section>

            <!-- MARKETPLACE -->
            <section id="marketplace" class="page-content">
                <h2 id="marketListingsTitle">Sugarcane Listings</h2>

                <div class="alert-notification alert-success">
                    <span>âœ…</span>
                    <span id="marketAlert">Best time to sell: Prices expected to rise next week</span>
                </div>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th data-key="market_col_crop">Crop</th>
                                <th data-key="market_col_qty">Quantity</th>
                                <th data-key="market_col_price">Price (â‚¹/quintal)</th>
                                <th data-key="market_col_seller">Seller</th>
                                <th data-key="market_col_contact">Contact</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Sugarcane (Co 0238)</td>
                                <td>1000 kg</td>
                                <td>3200</td>
                                <td>Farmer A</td>
                                <td><button class="contact-btn" onclick="contactSeller('Farmer A')">ðŸ“ž Contact</button></td>
                            </tr>
                            <tr>
                                <td>Sugarcane (Ratoon Crop)</td>
                                <td>800 kg</td>
                                <td>3150</td>
                                <td>Farmer C</td>
                                <td><button class="contact-btn" onclick="contactSeller('Farmer C')">ðŸ“ž Contact</button></td>
                            </tr>
                            <tr>
                                <td>Organic Sugarcane</td>
                                <td>1200 kg</td>
                                <td>3500</td>
                                <td>Farmer D</td>
                                <td><button class="contact-btn" onclick="contactSeller('Farmer D')">ðŸ“ž Contact</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h2 id="pricePredTitle">ðŸ“Š Price Prediction</h2>
                <p id="pricePredText">Based on current trends, here are predicted prices:</p>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th data-key="market_col_crop">Crop</th>
                                <th data-key="market_col_current">Current Price</th>
                                <th data-key="market_col_predict">Predicted Price (Next Month)</th>
                                <th data-key="market_col_trend">Trend</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Sugarcane</td>
                                <td>â‚¹3200</td>
                                <td>â‚¹3300</td>
                                <td style="color:var(--success-color);">â†‘ Rising</td>
                            </tr>
                            <tr>
                                <td>Organic Sugarcane</td>
                                <td>â‚¹3500</td>
                                <td>â‚¹3650</td>
                                <td style="color:var(--success-color);">â†‘ Rising</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 12px;">
                    <h3 id="sellYourCropTitle">Sell Your Crop</h3>
                    <form id="sellForm" onsubmit="event.preventDefault(); listYourCrop();">
                        <input type="text" id="cropType" placeholder="Crop Type" required>
                        <input type="number" id="cropQuantity" placeholder="Quantity (kg)" required>
                        <input type="number" id="cropPrice" placeholder="Expected Price (â‚¹/quintal)" value="3250">
                        <input type="text" id="yourContact" placeholder="Your Contact Number">
                        <button type="submit">List My Crop</button>
                    </form>
                </div>
            </section>

            <!-- COMMUNITY -->
            <section id="community" class="page-content">
                <h2 id="communityTitle">Farmer Community</h2>

                <div style="background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; box-shadow: var(--shadow-light);">
                    <h3>Ask a Question</h3>
                    <textarea id="newQuestion" placeholder="Ask your farming question..."></textarea>
                    <button onclick="postQuestion()">Post Question</button>
                </div>

                <div id="communityPosts">
                    <div class="community-post">
                        <div class="community-post-header">
                            <span class="post-author">Farmer A</span>
                            <span class="post-time">2 hours ago</span>
                        </div>
                        <p>Best time for irrigating sugarcane during summer?</p>
                        <div class="community-post" style="margin-left: 20px; background: #f8f9fa;">
                            <div class="community-post-header">
                                <span class="post-author">Expert</span>
                                <span class="post-time">1 hour ago</span>
                            </div>
                            <p>Early morning or late evening is best to reduce water evaporation. Avoid midday irrigation.</p>
                        </div>
                    </div>

                    <div class="community-post">
                        <div class="community-post-header">
                            <span class="post-author">Farmer B</span>
                            <span class="post-time">5 hours ago</span>
                        </div>
                        <p>How to manage Sugarcane Red Rot disease?</p>
                    </div>

                    <div class="community-post">
                        <div class="community-post-header">
                            <span class="post-author">Farmer C</span>
                            <span class="post-time">1 day ago</span>
                        </div>
                        <p>Any subsidy for drip irrigation in Maharashtra?</p>
                    </div>
                </div>
            </section>

            <!-- STORAGE -->
            <section id="storage" class="page-content">
                <h2 id="storageAvailableTitle">Available Storage</h2>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Location</th>
                                <th>Facility</th>
                                <th>Capacity</th>
                                <th>Available</th>
                                <th>Rent (â‚¹/month)</th>
                                <th>Contact</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Satara</td>
                                <td>Cold Storage</td>
                                <td>1000 MT</td>
                                <td>300 MT</td>
                                <td>1500</td>
                                <td><button class="contact-btn" onclick="contactStorage('Satara Cold Storage')">ðŸ“ž Book</button></td>
                            </tr>
                            <tr>
                                <td>Pune</td>
                                <td>Warehouse</td>
                                <td>500 MT</td>
                                <td>200 MT</td>
                                <td>1200</td>
                                <td><button class="contact-btn" onclick="contactStorage('Pune Warehouse')">ðŸ“ž Book</button></td>
                            </tr>
                            <tr>
                                <td>Kolhapur</td>
                                <td>Cold Storage</td>
                                <td>800 MT</td>
                                <td>500 MT</td>
                                <td>1400</td>
                                <td><button class="contact-btn" onclick="contactStorage('Kolhapur Cold Storage')">ðŸ“ž Book</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h2 id="storageLogisticsTitle">Logistics Partners</h2>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Service</th>
                                <th>Vehicle Type</th>
                                <th>Capacity</th>
                                <th>Rate (â‚¹/km)</th>
                                <th>Contact</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Green Transport</td>
                                <td>Truck</td>
                                <td>10 MT</td>
                                <td>15</td>
                                <td><button class="contact-btn" onclick="contactLogistics('Green Transport')">ðŸ“ž Book</button></td>
                            </tr>
                            <tr>
                                <td>Agri Logistics</td>
                                <td>Trailer</td>
                                <td>20 MT</td>
                                <td>25</td>
                                <td><button class="contact-btn" onclick="contactLogistics('Agri Logistics')">ðŸ“ž Book</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- GOVT SCHEMES -->
            <section id="govt" class="page-content">
                <h2 id="govtSchemesTitle">Government Schemes</h2>

                <div class="alert-notification alert-success">
                    <span>âœ…</span>
                    <span id="schemeAlert">New: 80% subsidy on solar pumps for small farmers</span>
                </div>

                <ul id="govtSchemesList">
                    <li>
                        <strong>PM-Kisan Samman Nidhi</strong> - â‚¹6000/year direct benefit
                        <button class="apply-btn" onclick="applyScheme('PM-Kisan')">Apply Now</button>
                    </li>
                    <li>
                        <strong>Crop Insurance (PMFBY)</strong> - Premium: 1.5-2%
                        <button class="apply-btn" onclick="applyScheme('PMFBY')">Apply Now</button>
                    </li>
                    <li>
                        <strong>Subsidy for Drip Irrigation</strong> - Up to 90% subsidy
                        <button class="apply-btn" onclick="applyScheme('Drip Irrigation')">Apply Now</button>
                    </li>
                    <li>
                        <strong>Soil Health Card</strong> - Free soil testing
                        <button class="apply-btn" onclick="applyScheme('Soil Health Card')">Apply Now</button>
                    </li>
                </ul>

                <h2 id="govtLoansTitle">Loan Information</h2>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Bank</th>
                                <th>Loan Type</th>
                                <th>Interest Rate</th>
                                <th>Eligibility</th>
                                <th>Apply</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>SBI</td>
                                <td>Kisan Credit Card</td>
                                <td>7%</td>
                                <td>Small & marginal farmers</td>
                                <td><button class="apply-btn" onclick="applyLoan('SBI KCC')">Apply</button></td>
                            </tr>
                            <tr>
                                <td>PNB</td>
                                <td>Agriculture Loan</td>
                                <td>8%</td>
                                <td>All farmers with land records</td>
                                <td><button class="apply-btn" onclick="applyLoan('PNB Agri Loan')">Apply</button></td>
                            </tr>
                            <tr>
                                <td>NABARD</td>
                                <td>Micro Irrigation</td>
                                <td>6%</td>
                                <td>Farmers adopting drip/sprinkler</td>
                                <td><button class="apply-btn" onclick="applyLoan('NABARD Irrigation')">Apply</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- PLANNER -->
            <section id="planner" class="page-content">
                <h2 id="plannerTitle">Planner â€” Sugarcane Cultivation</h2>

                <div class="alert-notification alert-warning">
                    <span>âš ï¸</span>
                    <span id="plannerAlert">Next recommended action: Nitrogen top-dressing (Due in 5 days)</span>
                </div>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th data-key="planner_stage">Stage</th>
                                <th data-key="planner_timeline">Timeline</th>
                                <th data-key="planner_activity">Activity</th>
                                <th data-key="planner_key_focus">Key Focus</th>
                                <th data-key="planner_status">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Land Prep (Adsali)</td>
                                <td>Julyâ€“Aug</td>
                                <td>Deep plowing, trench forming, base fertilizer (FYM, P, K)</td>
                                <td>Soil quality & drainage</td>
                                <td><span style="color:var(--success-color);">âœ“ Completed</span></td>
                            </tr>
                            <tr>
                                <td>Planting</td>
                                <td>Augâ€“Sep</td>
                                <td>Plant setts (3-bud) in trenches, light irrigation, immediate weeding</td>
                                <td>Setts treatment (fungicide)</td>
                                <td><span style="color:var(--success-color);">âœ“ Completed</span></td>
                            </tr>
                            <tr>
                                <td>Tiller Development</td>
                                <td>Novâ€“Feb</td>
                                <td>Earthing-up, gap filling, Nitrogen fertilizer top-up (Urea)</td>
                                <td>Pest management (borers)</td>
                                <td><span style="color:var(--warning-color);">â³ In Progress</span></td>
                            </tr>
                            <tr>
                                <td>Grand Growth</td>
                                <td>Marchâ€“June</td>
                                <td>Heavy irrigation (critical period), detrashing (removing dry leaves)</td>
                                <td>Water stress & lodging prevention</td>
                                <td><span style="color:var(--text-muted);">âŒ› Upcoming</span></td>
                            </tr>
                            <tr>
                                <td>Maturity & Harvest</td>
                                <td>Sepâ€“Nov (Next Year)</td>
                                <td>Stop irrigation 4-6 weeks before harvest, test brix level</td>
                                <td>High sugar content & yield</td>
                                <td><span style="color:var(--text-muted);">âŒ› Upcoming</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="margin-top: 30px;">
                    <h3>Add Custom Task</h3>
                    <input type="text" id="customTask" placeholder="Task description">
                    <input type="date" id="taskDate">
                    <button onclick="addCustomTask()">Add Task</button>
                </div>
            </section>

            <!-- AI ASSISTANT -->
            <section id="assistant" class="page-content">
                <h2 id="assistantTitle">Ask the Assistant </h2>

                <div class="quick-links" style="margin-bottom: 20px;">
                    <button onclick="quickQuestion('sugarcane price')" style="background: var(--secondary-color); color: #333;">ðŸ’° Price</button>
                    <button onclick="quickQuestion('sugarcane diseases')" style="background: var(--danger-color);">ðŸ¦  Diseases</button>
                    <button onclick="quickQuestion('fertilizer schedule')" style="background: var(--primary-color);">ðŸ§ª Fertilizer</button>
                    <button onclick="quickQuestion('irrigation tips')" style="background: var(--accent-color);">ðŸ’§ Irrigation</button>
                </div>

                <input id="aiQuestion" type="text" placeholder="e.g. When to harvest sugarcane?">
                <button id="aiButton" onclick="askAssistant()">Get Answer</button>
                <div id="aiAnswer" style="margin-top:20px; padding:15px; background:#f8f9fa; border-radius:8px;"></div>
            </section>

            <!-- CAMERA -->
            <section id="camera" class="page-content">
                <h2 id="cameraTitle">Sugarcane Health Detection</h2>
                <p id="cameraDescription">Capture or upload images of your sugarcane crop for AI-powered disease detection and health analysis.</p>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                    <div style="text-align: center;">
                        <button onclick="simulateCamera('camera')" style="padding: 15px; font-size: 1.2rem;">
                            ðŸ“· Capture Photo
                        </button>
                    </div>
                    <div style="text-align: center;">
                        <form onsubmit="event.preventDefault(); analyzeImage();">
                            <input id="cropImage" type="file" accept="image/*" capture="camera">
                            <button id="cameraButton" type="submit">ðŸ“ Upload & Analyze</button>
                        </form>
                    </div>
                </div>

                <div id="analysisResult" class="detection-results">
                    <!-- Detection results will appear here -->
                </div>

                <div style="margin-top: 30px;">
                    <h3>Detection Capabilities</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div style="padding: 15px; background: #e8f5e8; border-radius: 8px;">
                            <h4>ðŸ¦  Diseases</h4>
                            <p>Red Rot, Smut, Wilt, Leaf Scald</p>
                        </div>
                        <div style="padding: 15px; background: #fff3cd; border-radius: 8px;">
                            <h4>ðŸ› Pests</h4>
                            <p>Stem Borer, Woolly Aphid, White Grub</p>
                        </div>
                        <div style="padding: 15px; background: #e3f2fd; border-radius: 8px;">
                            <h4>ðŸŒ± Nutrients</h4>
                            <p>Nitrogen, Phosphorus, Potassium deficiencies</p>
                        </div>
                        <div style="padding: 15px; background: #f3e5f5; border-radius: 8px;">
                            <h4>ðŸ’§ Stress</h4>
                            <p>Water stress, Heat stress, Lodging</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- WEATHER -->
            <section id="weather" class="page-content">
                <div style="max-width: 500px; margin: 0 auto; padding: 20px; border-radius: 12px; box-shadow: var(--shadow-light); background: #f9f9f9;">
                    <h2 id="weatherTitle">Weather & Alerts</h2>

                    <div class="alert-notification alert-warning" id="weatherAlert" style="display: none;">
                        <span>âš ï¸</span>
                        <span id="alertText">Weather alert will appear here</span>
                    </div>

                    <select id="city">
                        <option value="satara">Satara</option>
                        <option value="pune">Pune</option>
                        <option value="mumbai">Mumbai</option>
                        <option value="kolhapur">Kolhapur</option>
                        <option value="baramati">Baramati</option>
                    </select>
                    <button id="weatherButton" onclick="showWeather()">Show Weather</button>
                    <div id="weatherResult" style="margin-top:20px; font-weight:bold; text-align: left; padding-left: 20px;"></div>

                    <div id="weatherForecast" style="margin-top: 20px; display: none;">
                        <h3>7-Day Forecast</h3>
                        <div id="forecastContainer"></div>
                    </div>
                </div>
            </section>

            <!-- CALCULATOR -->
            <section id="calculator" class="page-content">
                <h2 id="calculatorTitle">Farming Calculators</h2>

                <div class="crop-calculator">
                    <h3>ðŸ’° Profit Calculator</h3>
                    <input type="number" id="landArea" placeholder="Land Area (acres)">
                    <input type="number" id="expectedYield" placeholder="Expected Yield (tons/acre)">
                    <input type="number" id="sellingPrice" placeholder="Selling Price (â‚¹/ton)" value="3250">
                    <input type="number" id="productionCost" placeholder="Production Cost (â‚¹/acre)" value="60000">
                    <button onclick="calculateProfit()">Calculate Profit</button>
                    <div id="profitResult" class="calculator-result"></div>
                </div>

                <div class="crop-calculator">
                    <h3>ðŸ§ª Fertilizer Calculator</h3>
                    <input type="number" id="fertilizerArea" placeholder="Land Area (acres)">
                    <select id="fertilizerType">
                        <option value="urea">Urea (Nitrogen)</option>
                        <option value="dap">DAP (Phosphorus)</option>
                        <option value="mop">MOP (Potassium)</option>
                        <option value="complex">Complex Fertilizer</option>
                    </select>
                    <button onclick="calculateFertilizer()">Calculate Requirement</button>
                    <div id="fertilizerResult" class="calculator-result"></div>
                </div>

                <div class="crop-calculator">
                    <h3>ðŸ’§ Water Requirement Calculator</h3>
                    <input type="number" id="waterArea" placeholder="Land Area (acres)">
                    <select id="cropStage">
                        <option value="initial">Initial Stage</option>
                        <option value="development">Development Stage</option>
                        <option value="mid">Mid Season</option>
                        <option value="late">Late Season</option>
                    </select>
                    <button onclick="calculateWater()">Calculate Water Need</button>
                    <div id="waterResult" class="calculator-result"></div>
                </div>
            </section>

            <!-- NEW FEATURE PAGES -->
            
            <!-- Crop Rotation Planner -->
            <section id="cropRotation" class="page-content">
                <h2>Crop Rotation Planner</h2>
                <p>Plan your crop rotation to maintain soil health and maximize yield</p>
                
                <div class="crop-rotation-container">
                    <div class="rotation-card">
                        <h3>Current Crop</h3>
                        <div style="text-align: center; padding: 20px;">
                            <div style="font-size: 3rem;">ðŸŒ¾</div>
                            <h3>Sugarcane</h3>
                            <p>Planted: August 2023</p>
                            <p>Harvest: November 2024</p>
                        </div>
                    </div>
                    
                    <div class="rotation-card">
                        <h3>Next Rotation</h3>
                        <div style="text-align: center; padding: 20px;">
                            <div style="font-size: 3rem;">ðŸ«˜</div>
                            <h3>Soybean</h3>
                            <p>Recommended after sugarcane</p>
                            <p>Planting: December 2024</p>
                        </div>
                        <button style="width: 100%; margin-top: 15px;" onclick="setRotationReminder()">Set Reminder</button>
                    </div>
                </div>
                
                <h3 style="margin-top: 30px;">Rotation Schedule</h3>
                <div class="rotation-schedule">
                    <div class="season-box active">
                        <div>Kharif</div>
                        <div>Sugarcane</div>
                    </div>
                    <div class="season-box">
                        <div>Rabi</div>
                        <div>Wheat</div>
                    </div>
                    <div class="season-box">
                        <div>Summer</div>
                        <div>Moong</div>
                    </div>
                    <div class="season-box">
                        <div>Next Kharif</div>
                        <div>Soybean</div>
                    </div>
                </div>
                
                <div style="margin-top: 30px;">
                    <h3>Benefits of This Rotation</h3>
                    <ul>
                        <li>Improves soil nitrogen levels</li>
                        <li>Breaks pest and disease cycles</li>
                        <li>Increases overall farm productivity</li>
                        <li>Reduces fertilizer requirements</li>
                    </ul>
                </div>
            </section>
            
            <!-- Soil Health Monitor -->
            <section id="soilHealth" class="page-content">
                <h2>Soil Health Monitor</h2>
                <p>Track your soil health metrics and get recommendations</p>
                
                <div class="soil-health-container">
                    <div class="soil-metric">
                        <h3>Nitrogen (N)</h3>
                        <div class="soil-value">245 kg/ha</div>
                        <div class="soil-status status-good">Optimal</div>
                        <p style="margin-top: 10px; font-size: 0.9rem;">Last tested: 2 months ago</p>
                    </div>
                    
                    <div class="soil-metric">
                        <h3>Phosphorus (P)</h3>
                        <div class="soil-value">18.5 ppm</div>
                        <div class="soil-status status-fair">Moderate</div>
                        <p style="margin-top: 10px; font-size: 0.9rem;">Consider adding phosphate fertilizer</p>
                    </div>
                    
                    <div class="soil-metric">
                        <h3>Potassium (K)</h3>
                        <div class="soil-value">150 ppm</div>
                        <div class="soil-status status-good">Optimal</div>
                        <p style="margin-top: 10px; font-size: 0.9rem;">Last tested: 2 months ago</p>
                    </div>
                    
                    <div class="soil-metric">
                        <h3>pH Level</h3>
                        <div class="soil-value">6.8</div>
                        <div class="soil-status status-good">Ideal</div>
                        <p style="margin-top: 10px; font-size: 0.9rem;">Neutral - perfect for sugarcane</p>
                    </div>
                </div>
                
                <div style="margin-top: 30px;">
                    <h3>Soil Health Recommendations</h3>
                    <div class="alert-notification alert-success">
                        <span>âœ…</span>
                        <span>Your soil health is generally good. Consider adding phosphate fertilizer to boost phosphorus levels.</span>
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <h4>Recommended Actions</h4>
                        <ul>
                            <li>Apply DAP fertilizer @ 100 kg/acre before next planting</li>
                            <li>Continue with current organic manure application</li>
                            <li>Test soil again after current harvest</li>
                        </ul>
                    </div>
                </div>
                
                <div style="margin-top: 30px;">
                    <h3>Schedule Soil Test</h3>
                    <input type="date" id="soilTestDate">
                    <button onclick="scheduleSoilTest()">Schedule Test</button>
                </div>
            </section>
            
            <!-- Smart Irrigation System -->
            <section id="irrigation" class="page-content">
                <h2>Smart Irrigation System</h2>
                <p>Monitor and control your irrigation system</p>
                
                <div class="irrigation-container">
                    <div class="irrigation-card">
                        <h3>Water Level</h3>
                        <div class="water-level">
                            <div class="water-fill" style="width: 75%;"></div>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>0%</span>
                            <span>75%</span>
                            <span>100%</span>
                        </div>
                        <p style="margin-top: 10px; text-align: center;">Good water availability</p>
                    </div>
                    
                    <div class="irrigation-card">
                        <h3>Next Irrigation</h3>
                        <div style="text-align: center; padding: 20px;">
                            <div style="font-size: 2rem;">ðŸ“…</div>
                            <h3>Tomorrow, 6:00 AM</h3>
                            <p>Duration: 2 hours</p>
                        </div>
                        <button style="width: 100%; margin-top: 10px;" onclick="modifyIrrigationSchedule()">Modify Schedule</button>
                    </div>
                </div>
                
                <div style="margin-top: 30px;">
                    <h3>Irrigation Zones</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Zone</th>
                                    <th>Area</th>
                                    <th>Last Irrigated</th>
                                    <th>Status</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>North Field</td>
                                    <td>2 acres</td>
                                    <td>3 days ago</td>
                                    <td><span style="color:var(--warning-color);">Due Soon</span></td>
                                    <td><button class="contact-btn" onclick="irrigateZone('North Field')">Irrigate Now</button></td>
                                </tr>
                                <tr>
                                    <td>South Field</td>
                                    <td>3 acres</td>
                                    <td>2 days ago</td>
                                    <td><span style="color:var(--success-color);">Adequate</span></td>
                                    <td><button class="contact-btn" onclick="scheduleIrrigation('South Field')">Schedule</button></td>
                                </tr>
                                <tr>
                                    <td>East Field</td>
                                    <td>1.5 acres</td>
                                    <td>4 days ago</td>
                                    <td><span style="color:var(--danger-color);">Needs Water</span></td>
                                    <td><button class="contact-btn" onclick="irrigateZone('East Field')">Irrigate Now</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div style="margin-top: 30px;">
                    <h3>Water Usage Statistics</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div style="padding: 15px; background: white; border-radius: 8px; text-align: center; box-shadow: var(--shadow-light);">
                            <div style="font-size: 1.5rem; font-weight: bold;">1250 L</div>
                            <div>Daily Usage</div>
                        </div>
                        <div style="padding: 15px; background: white; border-radius: 8px; text-align: center; box-shadow: var(--shadow-light);">
                            <div style="font-size: 1.5rem; font-weight: bold;">18%</div>
                            <div>Saved vs Traditional</div>
                        </div>
                        <div style="padding: 15px; background: white; border-radius: 8px; text-align: center; box-shadow: var(--shadow-light);">
                            <div style="font-size: 1.5rem; font-weight: bold;">â‚¹2,150</div>
                            <div>Monthly Savings</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Farm Equipment Rental -->
            <section id="equipment" class="page-content">
                <h2>Farm Equipment Rental</h2>
                <p>Rent farm equipment on hourly, daily or monthly basis</p>
                
                <div class="equipment-rental-container">
                    <div class="equipment-card">
                        <div class="equipment-image">ðŸšœ</div>
                        <div class="equipment-body">
                            <h3>Tractor</h3>
                            <p>45 HP with trailer</p>
                            <div class="equipment-price">â‚¹800/day</div>
                            <button class="contact-btn" onclick="rentEquipment('Tractor')">Rent Now</button>
                        </div>
                    </div>
                    
                    <div class="equipment-card">
                        <div class="equipment-image">ðŸŒ¾</div>
                        <div class="equipment-body">
                            <h3>Harvester</h3>
                            <p>Combine harvester for sugarcane</p>
                            <div class="equipment-price">â‚¹5000/day</div>
                            <button class="contact-btn" onclick="rentEquipment('Harvester')">Rent Now</button>
                        </div>
                    </div>
                    
                    <div class="equipment-card">
                        <div class="equipment-image">ðŸ’§</div>
                        <div class="equipment-body">
                            <h3>Drip Irrigation System</h3>
                            <p>Complete setup for 1 acre</p>
                            <div class="equipment-price">â‚¹1500/month</div>
                            <button class="contact-btn" onclick="rentEquipment('Drip Irrigation System')">Rent Now</button>
                        </div>
                    </div>
                    
                    <div class="equipment-card">
                        <div class="equipment-image">ðŸš</div>
                        <div class="equipment-body">
                            <h3>Sprayer Drone</h3>
                            <p>For pesticide application</p>
                            <div class="equipment-price">â‚¹2000/day</div>
                            <button class="contact-btn" onclick="rentEquipment('Sprayer Drone')">Rent Now</button>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 30px;">
                    <h3>My Equipment Bookings</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Equipment</th>
                                    <th>Rental Period</th>
                                    <th>Status</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Harvester</td>
                                    <td>15-20 Nov 2023</td>
                                    <td><span style="color:var(--success-color);">Confirmed</span></td>
                                    <td><button class="contact-btn" onclick="cancelBooking('Harvester')">Cancel</button></td>
                                </tr>
                                <tr>
                                    <td>Tractor</td>
                                    <td>25-30 Nov 2023</td>
                                    <td><span style="color:var(--warning-color);">Pending</span></td>
                                    <td><button class="contact-btn" onclick="cancelBooking('Tractor')">Cancel</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Digital Payments -->
            <section id="payments" class="page-content">
                <h2>Digital Payments</h2>
                <p>Secure and convenient payment options for all your farming needs</p>
                
                <div class="payment-container">
                    <h3>Payment Methods</h3>
                    <div class="payment-methods">
                        <div class="payment-method" onclick="selectPaymentMethod('UPI')">
                            <div style="font-size: 2rem;">ðŸ“±</div>
                            <div>UPI</div>
                        </div>
                        <div class="payment-method" onclick="selectPaymentMethod('Bank Transfer')">
                            <div style="font-size: 2rem;">ðŸ¦</div>
                            <div>Bank Transfer</div>
                        </div>
                        <div class="payment-method" onclick="selectPaymentMethod('Credit Card')">
                            <div style="font-size: 2rem;">ðŸ’³</div>
                            <div>Credit Card</div>
                        </div>
                        <div class="payment-method" onclick="selectPaymentMethod('Debit Card')">
                            <div style="font-size: 2rem;">ðŸ’³</div>
                            <div>Debit Card</div>
                        </div>
                    </div>
                    
                    <div id="paymentForm" style="display: none; margin-top: 20px;">
                        <h4 id="selectedMethod">Payment Method</h4>
                        <input type="number" id="paymentAmount" placeholder="Amount (â‚¹)">
                        <input type="text" id="paymentDetails" placeholder="Payment Details">
                        <button onclick="processPayment()">Make Payment</button>
                    </div>
                </div>
                
                <div style="margin-top: 30px;">
                    <h3>Payment History</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Description</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>15 Nov 2023</td>
                                    <td>Fertilizer Purchase</td>
                                    <td>â‚¹5,200</td>
                                    <td><span style="color:var(--success-color);">Completed</span></td>
                                </tr>
                                <tr>
                                    <td>10 Nov 2023</td>
                                    <td>Equipment Rental</td>
                                    <td>â‚¹8,000</td>
                                    <td><span style="color:var(--success-color);">Completed</span></td>
                                </tr>
                                <tr>
                                    <td>5 Nov 2023</td>
                                    <td>Seed Purchase</td>
                                    <td>â‚¹3,500</td>
                                    <td><span style="color:var(--success-color);">Completed</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Farm Diary -->
            <section id="diary" class="page-content">
                <h2>Farm Diary</h2>
                <p>Record your daily farming activities and observations</p>
                
                <div class="diary-container">
                    <div class="diary-input">
                        <input type="date" id="diaryDate">
                        <textarea id="diaryEntry" placeholder="Record your farming activities, observations, or notes..."></textarea>
                        <button onclick="addDiaryEntry()">Add Entry</button>
                    </div>
                    
                    <div id="diaryEntries">
                        <div class="diary-entry">
                            <div class="diary-date">15 November 2023</div>
                            <div class="diary-content">Applied nitrogen fertilizer to sugarcane crop. Noticed some yellowing in lower leaves. Scheduled soil test for next week.</div>
                        </div>
                        <div class="diary-entry">
                            <div class="diary-date">12 November 2023</div>
                            <div class="diary-content">Completed weeding in north field. Irrigation system working properly. No signs of pests detected.</div>
                        </div>
                        <div class="diary-entry">
                            <div class="diary-date">8 November 2023</div>
                            <div class="diary-content">Light rainfall today - 15mm. Good for crop growth. Postponed scheduled irrigation.</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Training Resources -->
            <section id="training" class="page-content">
                <h2>Training Resources</h2>
                <p>Learn new farming techniques and best practices</p>
                
                <div class="training-container">
                    <div class="training-card">
                        <div class="training-image">ðŸ“š</div>
                        <div class="training-body">
                            <div class="training-title">Sugarcane Cultivation Masterclass</div>
                            <p>Complete guide from planting to harvest</p>
                            <div class="training-duration">Duration: 4 weeks</div>
                            <button class="contact-btn" onclick="enrollTraining('Sugarcane Cultivation')">Enroll Now</button>
                        </div>
                    </div>
                    
                    <div class="training-card">
                        <div class="training-image">ðŸ’§</div>
                        <div class="training-body">
                            <div class="training-title">Drip Irrigation Management</div>
                            <p>Optimize water usage for better yields</p>
                            <div class="training-duration">Duration: 2 weeks</div>
                            <button class="contact-btn" onclick="enrollTraining('Drip Irrigation')">Enroll Now</button>
                        </div>
                    </div>
                    
                    <div class="training-card">
                        <div class="training-image">ðŸ¦ </div>
                        <div class="training-body">
                            <div class="training-title">Pest & Disease Management</div>
                            <p>Identify and control common sugarcane issues</p>
                            <div class="training-duration">Duration: 3 weeks</div>
                            <button class="contact-btn" onclick="enrollTraining('Pest Management')">Enroll Now</button>
                        </div>
                    </div>
                    
                    <div class="training-card">
                        <div class="training-image">ðŸ’°</div>
                        <div class="training-body">
                            <div class="training-title">Farm Business Management</div>
                            <p>Maximize profits through better planning</p>
                            <div class="training-duration">Duration: 4 weeks</div>
                            <button class="contact-btn" onclick="enrollTraining('Business Management')">Enroll Now</button>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 30px;">
                    <h3>My Enrollments</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Course</th>
                                    <th>Start Date</th>
                                    <th>Progress</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Sugarcane Cultivation Masterclass</td>
                                    <td>1 Nov 2023</td>
                                    <td>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 65%;"></div>
                                        </div>
                                        <div>65% Complete</div>
                                    </td>
                                    <td><button class="contact-btn" onclick="continueTraining('Sugarcane Cultivation')">Continue</button></td>
                                </tr>
                                <tr>
                                    <td>Drip Irrigation Management</td>
                                    <td>15 Nov 2023</td>
                                    <td>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 30%;"></div>
                                        </div>
                                        <div>30% Complete</div>
                                    </td>
                                    <td><button class="contact-btn" onclick="continueTraining('Drip Irrigation')">Continue</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <footer id="footerText">
                Prototype â€” Smart Krishi Mitra (English/Marathi Supported) â€¢ Helpline: 1800-123-4567
            </footer>
        </div>
    </div>

    <script>
        // Global variables
        let currentLang = "en";
        let climateIndex = 0;
        let factIndex = 0;
        let selectedPaymentMethod = "";

        // Check if user is logged in
        function checkLoginStatus() {
            const isLoggedIn = localStorage.getItem('userLoggedIn') === 'true';
            if (isLoggedIn) {
                document.getElementById('loginPage').style.display = 'none';
                document.getElementById('appContainer').style.display = 'block';
                initializeApp();
            } else {
                document.getElementById('loginPage').style.display = 'flex';
                document.getElementById('appContainer').style.display = 'none';
            }
        }

        // Initialize the application
        function initializeApp() {
            // Set up dashboard widgets
            rotateClimate();
            setInterval(rotateClimate, 5000);
            rotateFacts();
            setInterval(rotateFacts, 7000);

            // Set up weather page default
            showWeather();
            
            // Initial UI update for English (default)
            updateUI('en');
        }

        // Logout function
        function logout() {
            localStorage.removeItem('userLoggedIn');
            localStorage.removeItem('username');
            checkLoginStatus();
        }

        // Translation data
        const translations = {
            en: {
                appTitle: "Smart Krishi Mitra",
                headerTitle: "Smart Krishi Mitra",
                headerTagline: "Digital companion: Seed â†’ Harvest â†’ Market",
                usernameLabel: "Username or Phone",
                passwordLabel: "Password",
                loginButton: "Login",
                noAccount: "Don't have an account?",
                registerLink: "Register here",
                forgotPassword: "Forgot your password?",
                forgotPasswordLink: "Forgot your password?",
                lang_btn: "à¤®à¤°à¤¾à¤ à¥€",
                registerTitle: "Create Account",
                registerTagline: "Join Smart Krishi Mitra today",
                fullNameLabel: "Full Name",
                phoneLabel: "Phone Number",
                emailLabel: "Email (Optional)",
                locationLabel: "Location/Village",
                regPasswordLabel: "Password",
                confirmPasswordLabel: "Confirm Password",
                registerButton: "Create Account",
                haveAccount: "Already have an account?",
                loginLink: "Login here",
                appHeaderTitle: "Smart Krishi Mitra",
                appHeaderTagline: "Digital companion: Seed â†’ Harvest â†’ Market",
                dashboard: "Dashboard",
                marketplace: "Marketplace",
                community: "Community",
                storage: "Storage",
                govt: "Govt Schemes",
                planner: "Planner",
                assistant: "AI Assistant",
                camera: "Camera",
                weather: "Weather",
                calculator: "Calculator",
                climateTitle: "ðŸŒ¦ Climate Update",
                viewDetailedLink: "View Detailed Weather",
                statusTitle: "Sugarcane Status",
                statusText: "Trench method planting recommended. **Next step: Nitrogen top-dressing.**",
                marqueeText: "ðŸŒ± Govt announces subsidy on organic fertilizers â€¢ ðŸšœ New high-yielding sugarcane hybrid released (Co 0238) â€¢ ðŸ’¸ Sugarcane Fair and Remunerative Price (FRP) increased this year",
                didYouKnowTitle: "ðŸ’¡ Did you know?",
                qlMarket: "ðŸ›’ Marketplace",
                qlGovt: "ðŸ“‘ Govt Schemes",
                qlAssistant: "ðŸ¤– AI Assistant",
                qlCalculator: "ðŸ§® Calculator",
                marketListingsTitle: "Sugarcane Listings",
                pricePredTitle: "ðŸ“Š Price Prediction",
                pricePredText: "Based on current trends, here are predicted prices:",
                market_col_crop: "Crop",
                market_col_qty: "Quantity",
                market_col_price: "Price (â‚¹/quintal)",
                market_col_seller: "Seller",
                market_col_current: "Current Price",
                market_col_predict: "Predicted Price (Next Month)",
                communityTitle: "Recent Discussions (Sugarcane Focus)",
                storageAvailableTitle: "Available Storage",
                storageLogisticsTitle: "Logistics",
                storageLogisticsText: "Local transporters available for crop movement. Contact regional offices for details.",
                govtSchemesTitle: "Govt Schemes",
                govtLoansTitle: "Loan Information",
                plannerTitle: "Planner â€” Sugarcane Cultivation",
                planner_stage: "Stage",
                planner_timeline: "Timeline",
                planner_activity: "Activity",
                planner_key_focus: "Key Focus",
                assistantTitle: "Ask the Assistant (Sugarcane Expert)",
                aiQuestionPlaceholder: "e.g. When to harvest sugarcane?",
                aiButton: "Get Answer",
                cameraTitle: "Sugarcane Health Detection",
                cameraDescription: "Capture or upload images of your sugarcane crop for AI-powered disease detection and health analysis.",
                cameraButton: "Analyze Sugarcane Crop",
                weatherTitle: "Weather & Alerts",
                weatherButton: "Show Weather",
                calculatorTitle: "Farming Calculators",
                footerText: "Prototype â€” Smart Krishi Mitra (English/Marathi Supported) â€¢ Helpline: 1800-123-4567",
                priceAlertTitle: "ðŸ’° Price Alert",
                taskReminderTitle: "ðŸ“… Today's Tasks",
                cropCycleTitle: "ðŸŒ± Your Sugarcane Crop Cycle",
                market_col_contact: "Contact",
                market_col_trend: "Trend",
                sellYourCropTitle: "Sell Your Crop",
                schemeAlert: "New: 80% subsidy on solar pumps for small farmers",
                plannerAlert: "Next recommended action: Nitrogen top-dressing (Due in 5 days)",
                progressStart: "Planting",
                progressCurrent: "65% Complete",
                progressEnd: "Harvest",
                cycleEstimate: "Estimated harvest: 45 days remaining",
                marketAlert: "Best time to sell: Prices expected to rise next week"
            },
            mr: {
                appTitle: "à¤¸à¥à¤®à¤¾à¤°à¥à¤Ÿ à¤•à¥ƒà¤·à¥€ à¤®à¤¿à¤¤à¥à¤°",
                headerTitle: "à¤¸à¥à¤®à¤¾à¤°à¥à¤Ÿ à¤•à¥ƒà¤·à¥€ à¤®à¤¿à¤¤à¥à¤°",
                headerTagline: "à¤¡à¤¿à¤œà¤¿à¤Ÿà¤² à¤¸à¤¾à¤¥à¥€: à¤¬à¤¿à¤¯à¤¾à¤£à¥‡ â†’ à¤•à¤¾à¤¢à¤£à¥€ â†’ à¤¬à¤¾à¤œà¤¾à¤°",
                usernameLabel: "à¤µà¤¾à¤ªà¤°à¤•à¤°à¥à¤¤à¤¾à¤¨à¤¾à¤µ à¤•à¤¿à¤‚à¤µà¤¾ à¤«à¥‹à¤¨",
                passwordLabel: "à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡",
                loginButton: "à¤²à¥‰à¤—à¤¿à¤¨",
                noAccount: "à¤–à¤¾à¤¤à¥‡ à¤¨à¤¾à¤¹à¥€?",
                registerLink: "à¤¯à¥‡à¤¥à¥‡ à¤¨à¥‹à¤‚à¤¦à¤£à¥€ à¤•à¤°à¤¾",
                forgotPassword: "à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤µà¤¿à¤¸à¤°à¤²à¤¾à¤¤?",
                forgotPasswordLink: "à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤µà¤¿à¤¸à¤°à¤²à¤¾à¤¤?",
                lang_btn: "English",
                registerTitle: "à¤–à¤¾à¤¤à¥‡ à¤¤à¤¯à¤¾à¤° à¤•à¤°à¤¾",
                registerTagline: "à¤†à¤œà¤š à¤¸à¥à¤®à¤¾à¤°à¥à¤Ÿ à¤•à¥ƒà¤·à¥€ à¤®à¤¿à¤¤à¥à¤° à¤¸à¤¾à¤®à¥€à¤² à¤µà¥à¤¹à¤¾",
                fullNameLabel: "à¤ªà¥‚à¤°à¥à¤£ à¤¨à¤¾à¤µ",
                phoneLabel: "à¤«à¥‹à¤¨ à¤¨à¤‚à¤¬à¤°",
                emailLabel: "à¤ˆà¤®à¥‡à¤² (à¤ªà¤°à¥à¤¯à¤¾à¤¯à¥€)",
                locationLabel: "à¤¸à¥à¤¥à¤¾à¤¨/à¤—à¤¾à¤µ",
                regPasswordLabel: "à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡",
                confirmPasswordLabel: "à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡à¤šà¥€ à¤ªà¥à¤·à¥à¤Ÿà¥€ à¤•à¤°à¤¾",
                registerButton: "à¤–à¤¾à¤¤à¥‡ à¤¤à¤¯à¤¾à¤° à¤•à¤°à¤¾",
                haveAccount: "à¤†à¤§à¥€à¤ªà¤¾à¤¸à¥‚à¤¨ à¤–à¤¾à¤¤à¥‡ à¤†à¤¹à¥‡?",
                loginLink: "à¤¯à¥‡à¤¥à¥‡ à¤²à¥‰à¤—à¤¿à¤¨ à¤•à¤°à¤¾",
                appHeaderTitle: "à¤¸à¥à¤®à¤¾à¤°à¥à¤Ÿ à¤•à¥ƒà¤·à¥€ à¤®à¤¿à¤¤à¥à¤°",
                appHeaderTagline: "à¤¡à¤¿à¤œà¤¿à¤Ÿà¤² à¤¸à¤¾à¤¥à¥€: à¤¬à¤¿à¤¯à¤¾à¤£à¥‡ â†’ à¤•à¤¾à¤¢à¤£à¥€ â†’ à¤¬à¤¾à¤œà¤¾à¤°",
                dashboard: "à¤¡à¥…à¤¶à¤¬à¥‹à¤°à¥à¤¡",
                marketplace: "à¤¬à¤¾à¤œà¤¾à¤°à¤ªà¥‡à¤ ",
                community: "à¤¸à¤®à¥à¤¦à¤¾à¤¯",
                storage: "à¤¸à¤¾à¤ à¤µà¤£à¥‚à¤•",
                govt: "à¤¸à¤°à¤•à¤¾à¤°à¥€ à¤¯à¥‹à¤œà¤¨à¤¾",
                planner: "à¤¨à¤¿à¤¯à¥‹à¤œà¤¨",
                assistant: "à¤à¤†à¤¯ à¤¸à¤¹à¤¾à¤¯à¥à¤¯à¤•",
                camera: "à¤•à¥…à¤®à¥‡à¤°à¤¾",
                weather: "à¤¹à¤µà¤¾à¤®à¤¾à¤¨",
                calculator: "à¤•à¥…à¤²à¥à¤•à¥à¤¯à¥à¤²à¥‡à¤Ÿà¤°",
                climateTitle: "ðŸŒ¦ à¤¹à¤µà¤¾à¤®à¤¾à¤¨ à¤…à¤ªà¤¡à¥‡à¤Ÿ",
                viewDetailedLink: "à¤¸à¤µà¤¿à¤¸à¥à¤¤à¤° à¤¹à¤µà¤¾à¤®à¤¾à¤¨ à¤ªà¤¹à¤¾",
                statusTitle: "à¤Šà¤¸ à¤¸à¥à¤¥à¤¿à¤¤à¥€",
                statusText: "à¤šà¤° à¤ªà¤¦à¥à¤§à¤¤à¥€à¤¨à¥‡ à¤²à¤¾à¤—à¤µà¤¡ à¤•à¤°à¤£à¥à¤¯à¤¾à¤šà¥€ à¤¶à¤¿à¤«à¤¾à¤°à¤¸. **à¤ªà¥à¤¢à¥€à¤² à¤ªà¤¾à¤¯à¤°à¥€: à¤¨à¤¤à¥à¤° à¤–à¤¤ à¤µà¤°à¤–à¤¤.**",
                marqueeText: "ðŸŒ± à¤¸à¥‡à¤‚à¤¦à¥à¤°à¤¿à¤¯ à¤–à¤¤à¤¾à¤‚à¤µà¤° à¤¸à¤°à¤•à¤¾à¤°à¥€ à¤…à¤¨à¥à¤¦à¤¾à¤¨à¤¾à¤šà¥€ à¤˜à¥‹à¤·à¤£à¤¾ â€¢ ðŸšœ à¤¨à¤µà¥€à¤¨ à¤…à¤§à¤¿à¤• à¤‰à¤¤à¥à¤ªà¤¾à¤¦à¤¨ à¤¦à¥‡à¤£à¤¾à¤°à¥€ à¤Šà¤¸ à¤¸à¤‚à¤•à¤°à¤¿à¤¤ à¤œà¤¾à¤¤ (Co 0238) à¤ªà¥à¤°à¤•à¤¾à¤¶à¤¿à¤¤ â€¢ ðŸ’¸ à¤¯à¤¾à¤µà¤°à¥à¤·à¥€ à¤Šà¤¸à¤¾à¤šà¤¾ à¤µà¤¾à¤œà¤µà¥€ à¤†à¤£à¤¿ à¤²à¤¾à¤­à¤•à¤¾à¤°à¥€ à¤¦à¤° (FRP) à¤µà¤¾à¤¢à¤µà¤²à¤¾ à¤—à¥‡à¤²à¤¾",
                didYouKnowTitle: "ðŸ’¡ à¤¤à¥à¤®à¥à¤¹à¤¾à¤²à¤¾ à¤®à¤¾à¤¹à¤¿à¤¤ à¤†à¤¹à¥‡ à¤•à¤¾?",
                qlMarket: "ðŸ›’ à¤¬à¤¾à¤œà¤¾à¤°à¤ªà¥‡à¤ ",
                qlGovt: "ðŸ“‘ à¤¸à¤°à¤•à¤¾à¤°à¥€ à¤¯à¥‹à¤œà¤¨à¤¾",
                qlAssistant: "ðŸ¤– à¤à¤†à¤¯ à¤¸à¤¹à¤¾à¤¯à¥à¤¯à¤•",
                qlCalculator: "ðŸ§® à¤•à¥…à¤²à¥à¤•à¥à¤¯à¥à¤²à¥‡à¤Ÿà¤°",
                marketListingsTitle: "à¤Šà¤¸ à¤¸à¥‚à¤šà¥€",
                pricePredTitle: "ðŸ“Š à¤•à¤¿à¤‚à¤®à¤¤ à¤…à¤‚à¤¦à¤¾à¤œ",
                pricePredText: "à¤¸à¤§à¥à¤¯à¤¾à¤šà¥à¤¯à¤¾ à¤Ÿà¥à¤°à¥‡à¤‚à¤¡à¤¨à¥à¤¸à¤¾à¤°, à¤…à¤‚à¤¦à¤¾à¤œà¤¿à¤¤ à¤¦à¤° à¤–à¤¾à¤²à¥€à¤²à¤ªà¥à¤°à¤®à¤¾à¤£à¥‡ à¤†à¤¹à¥‡à¤¤:",
                market_col_crop: "à¤ªà¥€à¤•",
                market_col_qty: "à¤ªà¥à¤°à¤®à¤¾à¤£",
                market_col_price: "à¤•à¤¿à¤‚à¤®à¤¤ (â‚¹/à¤•à¥à¤µà¤¿à¤‚à¤Ÿà¤²)",
                market_col_seller: "à¤µà¤¿à¤•à¥à¤°à¥‡à¤¤à¤¾",
                market_col_current: "à¤¸à¤¦à¥à¤¯ à¤•à¤¿à¤‚à¤®à¤¤",
                market_col_predict: "à¤…à¤‚à¤¦à¤¾à¤œà¤¿à¤¤ à¤•à¤¿à¤‚à¤®à¤¤ (à¤ªà¥à¤¢à¥€à¤² à¤®à¤¹à¤¿à¤¨à¤¾)",
                communityTitle: "à¤…à¤²à¥€à¤•à¤¡à¥€à¤² à¤šà¤°à¥à¤šà¤¾ (à¤Šà¤¸ à¤•à¥‡à¤‚à¤¦à¥à¤°à¤¿à¤¤)",
                storageAvailableTitle: "à¤‰à¤ªà¤²à¤¬à¥à¤§ à¤¸à¤¾à¤ à¤µà¤£à¥‚à¤•",
                storageLogisticsTitle: "à¤µà¤¾à¤¹à¤¤à¥‚à¤•",
                storageLogisticsText: "à¤ªà¥€à¤• à¤µà¤¾à¤¹à¤¤à¥à¤•à¥€à¤¸à¤¾à¤ à¥€ à¤¸à¥à¤¥à¤¾à¤¨à¤¿à¤• à¤µà¤¾à¤¹à¤¤à¥‚à¤•à¤¦à¤¾à¤° à¤‰à¤ªà¤²à¤¬à¥à¤§. à¤¤à¤ªà¤¶à¥€à¤²à¤¾à¤‚à¤¸à¤¾à¤ à¥€ à¤ªà¥à¤°à¤¾à¤¦à¥‡à¤¶à¤¿à¤• à¤•à¤¾à¤°à¥à¤¯à¤¾à¤²à¤¯à¤¾à¤‚à¤¶à¥€ à¤¸à¤‚à¤ªà¤°à¥à¤• à¤¸à¤¾à¤§à¤¾.",
                govtSchemesTitle: "à¤¸à¤°à¤•à¤¾à¤°à¥€ à¤¯à¥‹à¤œà¤¨à¤¾",
                govtLoansTitle: "à¤•à¤°à¥à¤œ à¤®à¤¾à¤¹à¤¿à¤¤à¥€",
                plannerTitle: "à¤¨à¤¿à¤¯à¥‹à¤œà¤• â€” à¤Šà¤¸ à¤²à¤¾à¤—à¤µà¤¡",
                planner_stage: "à¤Ÿà¤ªà¥à¤ªà¤¾",
                planner_timeline: "à¤•à¤¾à¤²à¤®à¤°à¥à¤¯à¤¾à¤¦à¤¾",
                planner_activity: "à¤•à¥à¤°à¤¿à¤¯à¤¾à¤•à¤²à¤¾à¤ª",
                planner_key_focus: "à¤®à¥à¤–à¥à¤¯ à¤²à¤•à¥à¤·",
                assistantTitle: "à¤¸à¤¹à¤¾à¤¯à¥à¤¯à¤•à¤¾à¤²à¤¾ à¤µà¤¿à¤šà¤¾à¤°à¤¾ (à¤Šà¤¸ à¤¤à¤œà¥à¤ž)",
                aiQuestionPlaceholder: "à¤‰à¤¦à¤¾. à¤Šà¤¸ à¤•à¤¾à¤¢à¤£à¥€ à¤•à¤§à¥€ à¤•à¤°à¤¾à¤µà¥€?",
                aiButton: "à¤‰à¤¤à¥à¤¤à¤° à¤®à¤¿à¤³à¤µà¤¾",
                cameraTitle: "à¤Šà¤¸ à¤•à¥…à¤®à¥‡à¤°à¤¾ à¤¡à¤¿à¤Ÿà¥‡à¤•à¥à¤¶à¤¨ à¤¸à¤¿à¤¸à¥à¤Ÿà¤®",
                cameraDescription: "AI-à¤ªà¥‰à¤µà¤°à¥à¤¡ à¤°à¥‹à¤— à¤¶à¥‹à¤§, à¤•à¥€à¤Ÿà¤• à¤“à¤³à¤– à¤†à¤£à¤¿ à¤†à¤°à¥‹à¤—à¥à¤¯ à¤µà¤¿à¤¶à¥à¤²à¥‡à¤·à¤£à¤¾à¤¸à¤¾à¤ à¥€ à¤†à¤ªà¤²à¥à¤¯à¤¾ à¤Šà¤¸ à¤ªà¤¿à¤•à¤¾à¤šà¥€ à¤›à¤¾à¤¯à¤¾à¤šà¤¿à¤¤à¥à¤°à¥‡ à¤•à¥…à¤ªà¥à¤šà¤° à¤•à¤¿à¤‚à¤µà¤¾ à¤…à¤ªà¤²à¥‹à¤¡ à¤•à¤°à¤¾.",
                cameraButton: "à¤Šà¤¸ à¤ªà¥€à¤• à¤µà¤¿à¤¶à¥à¤²à¥‡à¤·à¤£ à¤•à¤°à¤¾",
                weatherTitle: "à¤¹à¤µà¤¾à¤®à¤¾à¤¨ à¤†à¤£à¤¿ à¤¸à¤¤à¤°à¥à¤•à¤¤à¤¾",
                weatherButton: "à¤¹à¤µà¤¾à¤®à¤¾à¤¨ à¤¦à¤¾à¤–à¤µà¤¾",
                calculatorTitle: "à¤¶à¥‡à¤¤à¥€ à¤•à¥…à¤²à¥à¤•à¥à¤¯à¥à¤²à¥‡à¤Ÿà¤°",
                footerText: "à¤ªà¥à¤°à¥‹à¤Ÿà¥‹à¤Ÿà¤¾à¤‡à¤ª â€” à¤¸à¥à¤®à¤¾à¤°à¥à¤Ÿ à¤•à¥ƒà¤·à¥€ à¤®à¤¿à¤¤à¥à¤° (à¤‡à¤‚à¤—à¥à¤°à¤œà¥€/à¤®à¤°à¤¾à¤ à¥€ à¤¸à¤®à¤°à¥à¤¥à¤¿à¤¤) â€¢ à¤¹à¥‡à¤²à¥à¤ªà¤²à¤¾à¤‡à¤¨: 1800-123-4567",
                priceAlertTitle: "ðŸ’° à¤•à¤¿à¤‚à¤®à¤¤ à¤¸à¥‚à¤šà¤¨à¤¾",
                taskReminderTitle: "ðŸ“… à¤†à¤œà¤šà¥€ à¤•à¤¾à¤®à¥‡",
                cropCycleTitle: "ðŸŒ± à¤¤à¥à¤®à¤šà¤¾ à¤Šà¤¸ à¤ªà¥€à¤• à¤šà¤•à¥à¤°",
                market_col_contact: "à¤¸à¤‚à¤ªà¤°à¥à¤•",
                market_col_trend: "à¤Ÿà¥à¤°à¥‡à¤‚à¤¡",
                sellYourCropTitle: "à¤¤à¥à¤®à¤šà¥‡ à¤ªà¥€à¤• à¤µà¤¿à¤•à¤¾",
                schemeAlert: "à¤¨à¤µà¥€à¤¨: à¤²à¤¹à¤¾à¤¨ à¤¶à¥‡à¤¤à¤•à¤±à¥à¤¯à¤¾à¤‚à¤¸à¤¾à¤ à¥€ à¤¸à¥Œà¤° à¤ªà¤‚à¤ªà¤¾à¤‚à¤µà¤° 80% à¤…à¤¨à¥à¤¦à¤¾à¤¨",
                plannerAlert: "à¤ªà¥à¤¢à¥€à¤² à¤¶à¤¿à¤«à¤¾à¤°à¤¸ à¤•à¥‡à¤²à¥‡à¤²à¥€ à¤•à¥ƒà¤¤à¥€: à¤¨à¤¤à¥à¤° à¤µà¤°à¤–à¤¤ (5 à¤¦à¤¿à¤µà¤¸à¤¾à¤¤ à¤¦à¥‡à¤¯)",
                progressStart: "à¤²à¤¾à¤—à¤µà¤¡",
                progressCurrent: "65% à¤ªà¥‚à¤°à¥à¤£",
                progressEnd: "à¤•à¤¾à¤ªà¤£à¥€",
                cycleEstimate: "à¤…à¤‚à¤¦à¤¾à¤œà¥‡ à¤•à¤¾à¤ªà¤£à¥€: 45 à¤¦à¤¿à¤µà¤¸ à¤¶à¤¿à¤²à¥à¤²à¤•",
                marketAlert: "à¤µà¤¿à¤•à¥à¤°à¥€à¤šà¥€ à¤‰à¤¤à¥à¤¤à¤® à¤µà¥‡à¤³: à¤ªà¥à¤¢à¥€à¤² à¤†à¤ à¤µà¤¡à¥à¤¯à¤¾à¤¤ à¤•à¤¿à¤‚à¤®à¤¤à¥€ à¤µà¤¾à¤¢à¤£à¥à¤¯à¤¾à¤šà¥€ à¤…à¤ªà¥‡à¤•à¥à¤·à¤¾"
            }
        };

        // Weather data
        const weatherData = {
            satara: { 
                temp: "28Â°C", 
                condition_en: "ðŸŒ¤ Partly Cloudy", 
                condition_mr: "ðŸŒ¤ à¤…à¤‚à¤¶à¤¤à¤ƒ à¤¢à¤—à¤¾à¤³", 
                humidity: "62%", 
                wind: "12 km/h",
                alert_en: "Good weather for sugarcane growth",
                alert_mr: "à¤Šà¤¸ à¤µà¤¾à¤¢à¥€à¤¸à¤¾à¤ à¥€ à¤šà¤¾à¤‚à¤—à¤²à¥‡ à¤¹à¤µà¤¾à¤®à¤¾à¤¨"
            },
            pune: { 
                temp: "30Â°C", 
                condition_en: "â˜€ Sunny", 
                condition_mr: "â˜€ à¤Šà¤¨", 
                humidity: "55%", 
                wind: "10 km/h",
                alert_en: "Light irrigation recommended today",
                alert_mr: "à¤†à¤œ à¤¹à¤²à¤•à¥‡ à¤¸à¤¿à¤‚à¤šà¤¨ à¤¶à¤¿à¤«à¤¾à¤°à¤¸"
            },
            mumbai: { 
                temp: "32Â°C", 
                condition_en: "ðŸŒ¦ Humid with Clouds", 
                condition_mr: "ðŸŒ¦ à¤¢à¤—à¤¾à¤³ à¤†à¤£à¤¿ à¤¦à¤®à¤Ÿ", 
                humidity: "75%", 
                wind: "15 km/h",
                alert_en: "High humidity - watch for fungal diseases",
                alert_mr: "à¤œà¤¾à¤¸à¥à¤¤ à¤†à¤°à¥à¤¦à¥à¤°à¤¤à¤¾ - à¤¬à¥à¤°à¤¶à¥€à¤œà¤¨à¥à¤¯ à¤°à¥‹à¤—à¤¾à¤‚à¤µà¤° à¤²à¤•à¥à¤· à¤ à¥‡à¤µà¤¾"
            },
            kolhapur: { 
                temp: "27Â°C", 
                condition_en: "ðŸŒ§ Light Rain", 
                condition_mr: "ðŸŒ§ à¤¹à¤²à¤•à¤¾ à¤ªà¤¾à¤Šà¤¸", 
                humidity: "70%", 
                wind: "14 km/h",
                alert_en: "Ideal for new sugarcane setts",
                alert_mr: "à¤¨à¤µà¥€à¤¨ à¤Šà¤¸ à¤•à¤¾à¤‚à¤¡à¥à¤¯à¤¾à¤‚à¤¸à¤¾à¤ à¥€ à¤†à¤¦à¤°à¥à¤¶"
            },
            baramati: { 
                temp: "31Â°C", 
                condition_en: "â›… Hot & Humid", 
                condition_mr: "â›… à¤—à¤°à¤® à¤†à¤£à¤¿ à¤¦à¤®à¤Ÿ", 
                humidity: "58%", 
                wind: "9 km/h",
                alert_en: "Sugarcane needs adequate water",
                alert_mr: "à¤Šà¤¸à¤¾à¤²à¤¾ à¤ªà¥à¤°à¥‡à¤¸à¥‡ à¤ªà¤¾à¤£à¥€ à¤†à¤µà¤¶à¥à¤¯à¤•"
            }
        };

        // Climate data for dashboard
        const climateData = [
            { city:"satara", en: "ðŸŒ¤ Satara: 28Â°C, Partly Cloudy â€” **Excellent for Sugarcane Tiller growth.**", mr: "ðŸŒ¤ à¤¸à¤¾à¤¤à¤¾à¤°à¤¾: 28Â°C, à¤…à¤‚à¤¶à¤¤à¤ƒ à¤¢à¤—à¤¾à¤³ â€” **à¤Šà¤¸ à¤«à¥à¤Ÿà¤µà¥à¤¯à¤¾à¤‚à¤šà¥à¤¯à¤¾ à¤µà¤¾à¤¢à¥€à¤¸à¤¾à¤ à¥€ à¤‰à¤¤à¥à¤•à¥ƒà¤·à¥à¤Ÿ.**"},
            { city:"pune", en: "â˜€ Pune: 30Â°C, Sunny â€” **Sugarcane requires light irrigation today.**", mr: "â˜€ à¤ªà¥à¤£à¥‡: 30Â°C, à¤Šà¤¨ â€” **à¤Šà¤¸à¤¾à¤²à¤¾ à¤†à¤œ à¤¹à¤²à¤•à¥€ à¤¸à¤¿à¤‚à¤šà¤¨à¤¾à¤šà¥€ à¤†à¤µà¤¶à¥à¤¯à¤•à¤¤à¤¾ à¤†à¤¹à¥‡.**"},
            { city:"mumbai", en: "ðŸŒ¦ Mumbai: 32Â°C, Humid & Cloudy â€” **High humidity caution for sugarcane Red Rot.**", mr: "ðŸŒ¦ à¤®à¥à¤‚à¤¬à¤ˆ: 32Â°C, à¤¦à¤®à¤Ÿ à¤†à¤£à¤¿ à¤¢à¤—à¤¾à¤³ â€” **à¤Šà¤¸ à¤¤à¤¾à¤‚à¤¬à¥‡à¤°à¤¾ à¤°à¥‹à¤—à¤¾à¤¸à¤¾à¤ à¥€ (Red Rot) à¤œà¤¾à¤¸à¥à¤¤ à¤†à¤°à¥à¤¦à¥à¤°à¤¤à¥‡à¤®à¥à¤³à¥‡ à¤§à¥‹à¤•à¤¾.**"},
            { city:"kolhapur", en: "ðŸŒ§ Kolhapur: 27Â°C, Light Rain â€” **Ideal for new sugarcane setts.**", mr: "ðŸŒ§ à¤•à¥‹à¤²à¥à¤¹à¤¾à¤ªà¥‚à¤°: 27Â°C, à¤¹à¤²à¤•à¤¾ à¤ªà¤¾à¤Šà¤¸ â€” **à¤¨à¤µà¥€à¤¨ à¤Šà¤¸ à¤•à¤¾à¤‚à¤¡à¥à¤¯à¤¾à¤‚à¤¸à¤¾à¤ à¥€ à¤†à¤¦à¤°à¥à¤¶.**"},
            { city:"baramati", en: "â›… Baramati: 31Â°C, Hot & Humid â€” **Sugarcane Grand Growth Phase needs water.**", mr: "â›… à¤¬à¤¾à¤°à¤¾à¤®à¤¤à¥€: 31Â°C, à¤—à¤°à¤® à¤†à¤£à¤¿ à¤¦à¤®à¤Ÿ â€” **à¤Šà¤¸ à¤œà¤²à¤¦ à¤µà¤¾à¤¢à¥€à¤šà¥à¤¯à¤¾ à¤Ÿà¤ªà¥à¤ªà¥à¤¯à¤¾à¤¤ à¤†à¤¹à¥‡, à¤ªà¤¾à¤£à¥à¤¯à¤¾à¤šà¥€ à¤—à¤°à¤œ à¤†à¤¹à¥‡.**"}
        ];

        // Facts data
        const facts = [
            { en: "ðŸŒ± Drip irrigation saves up to 70% more water than traditional methods.", mr: "ðŸŒ± à¤ à¤¿à¤¬à¤• à¤¸à¤¿à¤‚à¤šà¤¨à¤¾à¤®à¥à¤³à¥‡ à¤ªà¤¾à¤°à¤‚à¤ªà¤¾à¤°à¤¿à¤• à¤ªà¤¦à¥à¤§à¤¤à¥€à¤‚à¤ªà¥‡à¤•à¥à¤·à¤¾ 70% à¤ªà¤°à¥à¤¯à¤‚à¤¤ à¤ªà¤¾à¤£à¥à¤¯à¤¾à¤šà¥€ à¤¬à¤šà¤¤ à¤¹à¥‹à¤¤à¥‡." },
            { en: "ðŸ­ Sugarcane is a C4 plant, making it highly efficient in converting sunlight to biomass.", mr: "ðŸ­ à¤Šà¤¸ à¤¹à¥‡ C4 à¤ªà¥€à¤• à¤†à¤¹à¥‡, à¤œà¥‡ à¤¸à¥‚à¤°à¥à¤¯à¤ªà¥à¤°à¤•à¤¾à¤¶à¤¾à¤šà¥‡ à¤¬à¤¾à¤¯à¥‹à¤®à¤¾à¤¸à¤®à¤§à¥à¤¯à¥‡ à¤°à¥‚à¤ªà¤¾à¤‚à¤¤à¤° à¤•à¤°à¤£à¥à¤¯à¤¾à¤¤ à¤…à¤¤à¥à¤¯à¤‚à¤¤ à¤•à¤¾à¤°à¥à¤¯à¤•à¥à¤·à¤® à¤†à¤¹à¥‡." },
            { en: "ðŸƒ Sugarcane provides both sugar and biofuel.", mr: "ðŸƒ à¤Šà¤¸ à¤¸à¤¾à¤–à¤° à¤†à¤£à¤¿ à¤œà¥ˆà¤µà¤‡à¤‚à¤§à¤¨ (Biofuel) à¤¦à¥‹à¤¨à¥à¤¹à¥€ à¤ªà¥à¤°à¤¦à¤¾à¤¨ à¤•à¤°à¤¤à¥‹." },
            { en: "ðŸ„ Cow dung is a natural fertilizer rich in nitrogen and phosphorus.", mr: "ðŸ„ à¤—à¤¾à¤ˆà¤šà¥‡ à¤¶à¥‡à¤£ à¤¨à¤¤à¥à¤° (Nitrogen) à¤†à¤£à¤¿ à¤¸à¥à¤«à¥à¤°à¤¦ (Phosphorus) à¤®à¤§à¥à¤¯à¥‡ à¤¸à¤®à¥ƒà¤¦à¥à¤§ à¤…à¤¸à¤²à¥‡à¤²à¥‡ à¤¨à¥ˆà¤¸à¤°à¥à¤—à¤¿à¤• à¤–à¤¤ à¤†à¤¹à¥‡." },
            { en: "â˜€ Solar pumps can cut irrigation costs significantly.", mr: "â˜€ à¤¸à¥Œà¤° à¤ªà¤‚à¤ªà¤¾à¤‚à¤®à¥à¤³à¥‡ à¤¸à¤¿à¤‚à¤šà¤¨à¤¾à¤šà¤¾ à¤–à¤°à¥à¤š à¤²à¤•à¥à¤·à¤£à¥€à¤¯à¤°à¥€à¤¤à¥à¤¯à¤¾ à¤•à¤®à¥€ à¤¹à¥‹à¤Š à¤¶à¤•à¤¤à¥‹." }
        ];

        // AI Assistant Knowledge Base
        const knowledgeBase = {
            // Sugarcane cultivation
            "planting": {
                en: "ðŸŒ± **Sugarcane Planting**: Best time is Adsali (July-August) in Maharashtra. Use 3-bud setts with fungicide treatment. Trench planting (90-120cm between rows) increases yield by 15-20%.",
                mr: "ðŸŒ± **à¤Šà¤¸ à¤²à¤¾à¤—à¤µà¤¡**: à¤®à¤¹à¤¾à¤°à¤¾à¤·à¥à¤Ÿà¥à¤°à¤¾à¤¤ à¤†à¤¡à¤¸à¤¾à¤²à¥€ (à¤œà¥à¤²à¥ˆ-à¤‘à¤—à¤¸à¥à¤Ÿ) à¤¹à¥€ à¤¸à¤°à¥à¤µà¥‹à¤¤à¥à¤¤à¤® à¤µà¥‡à¤³ à¤†à¤¹à¥‡. à¤¬à¥à¤°à¤¶à¥€à¤¨à¤¾à¤¶à¤• à¤‰à¤ªà¤šà¤¾à¤° à¤•à¥‡à¤²à¥‡à¤²à¥‡ 3-à¤¡à¥‹à¤³à¥à¤¯à¤¾à¤‚à¤šà¥‡ à¤¬à¥‡à¤£à¥‡ à¤µà¤¾à¤ªà¤°à¤¾. à¤šà¤° à¤ªà¤¦à¥à¤§à¤¤à¥€ (à¤°à¤¾à¤‚à¤—à¤¾à¤‚à¤®à¤§à¥à¤¯à¥‡ 90-120cm) à¤‰à¤¤à¥à¤ªà¤¾à¤¦à¤¨ 15-20% à¤µà¤¾à¤¢à¤µà¤¤à¥‡."
            },
            "irrigation": {
                en: "ðŸ’§ **Irrigation**: Heavy during Grand Growth (Mar-Jun). Stop 4-6 weeks before harvest. Drip irrigation saves 30-50% water. Total requirement: 1500-2500mm per crop cycle.",
                mr: "ðŸ’§ **à¤¸à¤¿à¤‚à¤šà¤¨**: à¤œà¤²à¤¦ à¤µà¤¾à¤¢à¥€à¤¤ (à¤®à¤¾à¤°à¥à¤š-à¤œà¥‚à¤¨) à¤œà¤¾à¤¸à¥à¤¤ à¤ªà¤¾à¤£à¥€. à¤•à¤¾à¤ªà¤£à¥€à¤ªà¥‚à¤°à¥à¤µà¥€ 4-6 à¤†à¤ à¤µà¤¡à¥‡ à¤¥à¤¾à¤‚à¤¬à¤µà¤¾. à¤ à¤¿à¤¬à¤• à¤¸à¤¿à¤‚à¤šà¤¨ 30-50% à¤ªà¤¾à¤£à¥€ à¤µà¤¾à¤šà¤µà¤¤à¥‡. à¤à¤•à¥‚à¤£ à¤—à¤°à¤œ: 1500-2500mm à¤ªà¥à¤°à¤¤à¤¿ à¤ªà¥€à¤• à¤šà¤•à¥à¤°."
            },
            "harvest": {
                en: "ðŸŒ¾ **Harvest**: After 10-12 months (Adsali: 16-18 months) when brix reaches 18-20%. Use sharp knives, cut at ground level. Average yield: 70-100 tons/hectare.",
                mr: "ðŸŒ¾ **à¤•à¤¾à¤ªà¤£à¥€**: 10-12 à¤®à¤¹à¤¿à¤¨à¥à¤¯à¤¾à¤‚à¤¨à¥€ (à¤†à¤¡à¤¸à¤¾à¤²à¥€: 16-18 à¤®à¤¹à¤¿à¤¨à¥‡) à¤œà¥‡à¤µà¥à¤¹à¤¾ à¤¬à¥à¤°à¤¿à¤•à¥à¤¸ 18-20% à¤ªà¥‹à¤¹à¥‹à¤šà¥‡à¤². à¤¤à¥€à¤•à¥à¤·à¥à¤£ à¤šà¤¾à¤•à¥‚ à¤µà¤¾à¤ªà¤°à¤¾, à¤œà¤®à¤¿à¤¨à¥€à¤ªà¤¾à¤¤à¤³à¥€à¤µà¤° à¤•à¤¾à¤ªà¤¾. à¤¸à¤°à¤¾à¤¸à¤°à¥€ à¤‰à¤¤à¥à¤ªà¤¾à¤¦à¤¨: 70-100 à¤Ÿà¤¨/à¤¹à¥‡à¤•à¥à¤Ÿà¤°."
            },
            "fertilizer": {
                en: "ðŸ§ª **Fertilizer**: 250:115:115 kg/ha N:P:K. Apply N in 3 splits. FYM: 25-30 tons/ha. Zinc: 25 kg/ha zinc sulphate. Soil testing recommended before application.",
                mr: "ðŸ§ª **à¤–à¤¤**: 250:115:115 kg/ha N:P:K. à¤¨à¤¤à¥à¤° 3 à¤¹à¤ªà¥à¤¤à¥à¤¯à¤¾à¤‚à¤¤ à¤¦à¥à¤¯à¤¾. FYM: 25-30 à¤Ÿà¤¨/à¤¹à¥‡à¤•à¥à¤Ÿà¤°. à¤œà¤¸à¥à¤¤: 25 kg/ha à¤œà¤¸à¥à¤¤ à¤¸à¤²à¥à¤«à¥‡à¤Ÿ. à¤µà¤¾à¤ªà¤°à¤¾à¤ªà¥‚à¤°à¥à¤µà¥€ à¤®à¤¾à¤¤à¥€ à¤šà¤¾à¤šà¤£à¥€ à¤¶à¤¿à¤«à¤¾à¤°à¤¸."
            },
            "ratoon": {
                en: "âœ‚ï¸ **Ratooning**: Cut at ground level after harvest. Apply 25% extra N fertilizer. Usually 2-3 ratoon crops taken. Yield decreases 15-20% each cycle.",
                mr: "âœ‚ï¸ **à¤–à¥‹à¤¡à¤µà¤¾**: à¤•à¤¾à¤ªà¤£à¥€à¤¨à¤‚à¤¤à¤° à¤œà¤®à¤¿à¤¨à¥€à¤ªà¤¾à¤¤à¤³à¥€à¤µà¤° à¤•à¤¾à¤ªà¤¾. 25% à¤œà¤¾à¤¸à¥à¤¤ à¤¨à¤¤à¥à¤° à¤–à¤¤ à¤¦à¥à¤¯à¤¾. à¤¸à¤¹à¤¸à¤¾ 2-3 à¤–à¥‹à¤¡à¤µà¤¾ à¤ªà¥€à¤• à¤˜à¥‡à¤¤à¤²à¥‡ à¤œà¤¾à¤¤à¥‡. à¤ªà¥à¤°à¤¤à¥à¤¯à¥‡à¤• à¤šà¤•à¥à¤°à¤¾à¤¤ à¤‰à¤¤à¥à¤ªà¤¾à¤¦à¤¨ 15-20% à¤•à¤®à¥€ à¤¹à¥‹à¤¤à¥‡."
            },
            "price": {
                en: "ðŸ’° **Current Price**: â‚¹3200-3300 per ton (FRP: â‚¹3150/quintal). Prices vary by variety: Co 0238 (â‚¹3250-3350), Co 86032 (â‚¹3200-3300). Check local market for exact rates.",
                mr: "ðŸ’° **à¤¸à¤§à¥à¤¯à¤¾à¤šà¤¾ à¤¦à¤°**: â‚¹3200-3300 à¤ªà¥à¤°à¤¤à¤¿ à¤Ÿà¤¨ (FRP: â‚¹3150/à¤•à¥à¤µà¤¿à¤‚à¤Ÿà¤²). à¤œà¤¾à¤¤à¥€à¤¨à¥à¤¸à¤¾à¤° à¤•à¤¿à¤‚à¤®à¤¤ à¤¬à¤¦à¤²à¤¤à¥‡: Co 0238 (â‚¹3250-3350), Co 86032 (â‚¹3200-3300). à¤…à¤šà¥‚à¤• à¤¦à¤°à¤¾à¤¸à¤¾à¤ à¥€ à¤¸à¥à¤¥à¤¾à¤¨à¤¿à¤• à¤¬à¤¾à¤œà¤¾à¤° à¤¤à¤ªà¤¾à¤¸à¤¾."
            },
            // Diseases
            "red rot": {
                en: "ðŸ¦  **Red Rot**: Fungal disease causing red discoloration inside stalks. Control: Remove infected plants, use resistant varieties (Co 86032), avoid ratooning in infected fields.",
                mr: "ðŸ¦  **à¤¤à¤¾à¤‚à¤¬à¥‡à¤°à¤¾**: à¤Šà¤¸à¤¾à¤šà¥à¤¯à¤¾ à¤†à¤¤à¥€à¤² à¤­à¤¾à¤—à¤¾à¤¤ à¤²à¤¾à¤² à¤°à¤‚à¤—à¤¾à¤šà¥‡ à¤¬à¤¦à¤² à¤•à¤°à¤£à¤¾à¤°à¤¾ à¤¬à¥à¤°à¤¶à¥€à¤œà¤¨à¥à¤¯ à¤°à¥‹à¤—. à¤¨à¤¿à¤¯à¤‚à¤¤à¥à¤°à¤£: à¤¸à¤‚à¤¸à¤°à¥à¤—à¤¿à¤¤ à¤µà¤¨à¤¸à¥à¤ªà¤¤à¥€ à¤•à¤¾à¤¢à¤¾, à¤ªà¥à¤°à¤¤à¤¿à¤°à¥‹à¤§à¤• à¤œà¤¾à¤¤à¥€ à¤µà¤¾à¤ªà¤°à¤¾ (Co 86032), à¤¸à¤‚à¤¸à¤°à¥à¤—à¤¿à¤¤ à¤¶à¥‡à¤¤à¤¾à¤¤ à¤–à¥‹à¤¡à¤µà¤¾ à¤Ÿà¤¾à¤³à¤¾."
            },
            "smut": {
                en: "ðŸ¦  **Smut**: Fungal disease causing black whip-like structures. Control: Use disease-free setts, hot water treatment (52Â°C for 30 min), resistant varieties.",
                mr: "ðŸ¦  **à¤•à¤¾à¤£à¥€**: à¤•à¤¾à¤³à¥à¤¯à¤¾ à¤šà¤¾à¤¬à¤•à¤¾à¤¸à¤¾à¤°à¤–à¥à¤¯à¤¾ à¤°à¤šà¤¨à¤¾ à¤¨à¤¿à¤°à¥à¤®à¤¾à¤£ à¤•à¤°à¤£à¤¾à¤°à¤¾ à¤¬à¥à¤°à¤¶à¥€à¤œà¤¨à¥à¤¯ à¤°à¥‹à¤—. à¤¨à¤¿à¤¯à¤‚à¤¤à¥à¤°à¤£: à¤°à¥‹à¤—à¤®à¥à¤•à¥à¤¤ à¤¬à¥‡à¤£à¥‡ à¤µà¤¾à¤ªà¤°à¤¾, à¤—à¤°à¤® à¤ªà¤¾à¤£à¥à¤¯à¤¾à¤šà¤¾ à¤‰à¤ªà¤šà¤¾à¤° (52Â°C for 30 min), à¤ªà¥à¤°à¤¤à¤¿à¤°à¥‹à¤§à¤• à¤œà¤¾à¤¤à¥€."
            },
            "wilt": {
                en: "ðŸ¦  **Wilt**: Fungal disease causing drying of leaves. Control: Improve soil drainage, use systemic fungicides, crop rotation.",
                mr: "ðŸ¦  **à¤®à¤°**: à¤ªà¤¾à¤¨à¥‡ à¤¸à¥à¤•à¤£à¥à¤¯à¤¾à¤¸ à¤•à¤¾à¤°à¤£à¥€à¤­à¥‚à¤¤ à¤…à¤¸à¤²à¥‡à¤²à¤¾ à¤¬à¥à¤°à¤¶à¥€à¤œà¤¨à¥à¤¯ à¤°à¥‹à¤—. à¤¨à¤¿à¤¯à¤‚à¤¤à¥à¤°à¤£: à¤®à¤¾à¤¤à¥€à¤šà¤¾ à¤¨à¤¿à¤šà¤°à¤¾ à¤¸à¥à¤§à¤¾à¤°à¤¾, à¤ªà¤¦à¥à¤§à¤¤à¤¶à¥€à¤° à¤¬à¥à¤°à¤¶à¥€à¤¨à¤¾à¤¶à¤• à¤µà¤¾à¤ªà¤°à¤¾, à¤ªà¥€à¤• à¤«à¥‡à¤°à¤«à¤¾à¤°."
            },
            // Pests
            "stem borer": {
                en: "ðŸ› **Stem Borer**: Larvae bore into stems causing 'dead heart'. Control: Light traps, Trichogramma parasites, neem-based insecticides.",
                mr: "ðŸ› **à¤•à¥‹à¤‚à¤¬ à¤•à¤¿à¤¡à¥€**: à¤…à¤³à¥à¤¯à¤¾ à¤–à¥‹à¤¡à¤¾à¤‚à¤®à¤§à¥à¤¯à¥‡ à¤ªà¥à¤°à¤µà¥‡à¤¶ à¤•à¤°à¥‚à¤¨ 'à¤¡à¥‡à¤¡ à¤¹à¤¾à¤°à¥à¤Ÿ' à¤¨à¤¿à¤°à¥à¤®à¤¾à¤£ à¤•à¤°à¤¤à¤¾à¤¤. à¤¨à¤¿à¤¯à¤‚à¤¤à¥à¤°à¤£: à¤ªà¥à¤°à¤•à¤¾à¤¶ à¤¸à¤¾à¤ªà¤³à¥‡, à¤Ÿà¥à¤°à¤¾à¤¯à¤•à¥‹à¤—à¥à¤°à¤¾à¤®à¤¾ à¤ªà¤°à¤œà¥€à¤µà¥€, à¤¨à¤¿à¤‚à¤¬-à¤†à¤§à¤¾à¤°à¤¿à¤¤ à¤•à¥€à¤Ÿà¤•à¤¨à¤¾à¤¶à¤•."
            },
            "woolly aphid": {
                en: "ðŸ› **Woolly Aphid**: White cottony masses on leaves. Control: Neem oil (0.5%), soap solution, release ladybird beetles.",
                mr: "ðŸ› **à¤²à¥‹à¤•à¤°à¥€ à¤®à¤¾à¤µà¤¾**: à¤ªà¤¾à¤¨à¤¾à¤‚à¤µà¤° à¤ªà¤¾à¤‚à¤¢à¤°à¥‡ à¤•à¤¾à¤ªà¤¸à¤¾à¤¸à¤¾à¤°à¤–à¥‡ à¤—à¥‹à¤³à¥‡. à¤¨à¤¿à¤¯à¤‚à¤¤à¥à¤°à¤£: à¤¨à¤¿à¤‚à¤¬ à¤¤à¥‡à¤² (0.5%), à¤¸à¤¾à¤¬à¤£ à¤¦à¥à¤°à¤¾à¤µà¤£, à¤²à¥‡à¤¡à¥€à¤¬à¤°à¥à¤¡ à¤¬à¥€à¤Ÿà¤² à¤¸à¥‹à¤¡à¤¾."
            },
            // Default response
            "default": {
                en: "ðŸ¤– I'm here to help with sugarcane farming! Ask me about planting, irrigation, harvest, fertilizer, diseases, pests, or pricing.",
                mr: "ðŸ¤– à¤®à¥€ à¤Šà¤¸ à¤¶à¥‡à¤¤à¥€à¤®à¤§à¥à¤¯à¥‡ à¤®à¤¦à¤¤ à¤•à¤°à¤£à¥à¤¯à¤¾à¤¸à¤¾à¤ à¥€ à¤‡à¤¥à¥‡ à¤†à¤¹à¥‡! à¤®à¤²à¤¾ à¤²à¤¾à¤—à¤µà¤¡, à¤¸à¤¿à¤‚à¤šà¤¨, à¤•à¤¾à¤ªà¤£à¥€, à¤–à¤¤, à¤°à¥‹à¤—, à¤•à¥€à¤¡ à¤•à¤¿à¤‚à¤µà¤¾ à¤•à¤¿à¤‚à¤®à¤¤à¥€à¤¬à¤¦à¥à¤¦à¤² à¤µà¤¿à¤šà¤¾à¤°à¤¾."
            }
        };

        // Disease detection database
        const detectionDatabase = [
            {
                name: "Red Rot Disease",
                keywords: ["red rot", "tambera", "reddish", "fungal"],
                severity: "high",
                confidence: 86,
                detection_en: "ðŸš¨ **Red Rot** detected - fungal disease causing red discoloration inside cane stalks.",
                detection_mr: "ðŸš¨ **à¤¤à¤¾à¤‚à¤¬à¥‡à¤°à¤¾ à¤°à¥‹à¤—** à¤†à¤¢à¤³à¤²à¤¾ - à¤Šà¤¸à¤¾à¤šà¥à¤¯à¤¾ à¤†à¤¤à¥€à¤² à¤­à¤¾à¤—à¤¾à¤¤ à¤²à¤¾à¤² à¤°à¤‚à¤—à¤¾à¤šà¥‡ à¤¬à¤¦à¤² à¤•à¤°à¤£à¤¾à¤°à¤¾ à¤¬à¥à¤°à¤¶à¥€à¤œà¤¨à¥à¤¯ à¤°à¥‹à¤—.",
                recommendation_en: "Remove and burn infected plants. Avoid ratooning in affected fields. Use resistant varieties like Co 86032.",
                recommendation_mr: "à¤¸à¤‚à¤¸à¤°à¥à¤—à¤¿à¤¤ à¤µà¤¨à¤¸à¥à¤ªà¤¤à¥€ à¤•à¤¾à¤¢à¥‚à¤¨ à¤œà¤¾à¤³à¤¾. à¤ªà¥à¤°à¤­à¤¾à¤µà¤¿à¤¤ à¤¶à¥‡à¤¤à¤¾à¤¤ à¤–à¥‹à¤¡à¤µà¤¾ à¤Ÿà¤¾à¤³à¤¾. Co 86032 à¤¸à¤¾à¤°à¤–à¥à¤¯à¤¾ à¤ªà¥à¤°à¤¤à¤¿à¤°à¥‹à¤§à¤• à¤œà¤¾à¤¤à¥€ à¤µà¤¾à¤ªà¤°à¤¾."
            },
            {
                name: "Smut Disease",
                keywords: ["smut", "kanni", "black whip", "whip"],
                severity: "high",
                confidence: 79,
                detection_en: "ðŸš¨ **Smut Disease** detected - black whip-like structures emerging from cane tops.",
                detection_mr: "ðŸš¨ **à¤•à¤¾à¤£à¥€ à¤°à¥‹à¤—** à¤†à¤¢à¤³à¤²à¤¾ - à¤Šà¤¸à¤¾à¤šà¥à¤¯à¤¾ à¤µà¤°à¤šà¥à¤¯à¤¾ à¤¬à¤¾à¤œà¥‚à¤¸ à¤•à¤¾à¤³à¥à¤¯à¤¾ à¤šà¤¾à¤¬à¤•à¤¾à¤¸à¤¾à¤°à¤–à¥à¤¯à¤¾ à¤°à¤šà¤¨à¤¾ à¤¦à¤¿à¤¸à¤¤ à¤†à¤¹à¥‡à¤¤.",
                recommendation_en: "Remove infected whips carefully in plastic bags to prevent spore spread. Use hot water treatment for setts.",
                recommendation_mr: "à¤¬à¥€à¤œà¤¾à¤£à¥‚à¤‚à¤šà¤¾ à¤ªà¥à¤°à¤¸à¤¾à¤° à¤°à¥‹à¤–à¤£à¥à¤¯à¤¾à¤¸à¤¾à¤ à¥€ à¤¸à¤‚à¤¸à¤°à¥à¤—à¤¿à¤¤ à¤šà¤¾à¤¬à¥‚à¤• à¤ªà¥à¤²à¤¾à¤¸à¥à¤Ÿà¤¿à¤• à¤ªà¤¿à¤¶à¤µà¥€à¤¤ à¤•à¤¾à¤³à¤œà¥€à¤ªà¥‚à¤°à¥à¤µà¤• à¤•à¤¾à¤¢à¤¾. à¤¬à¥‡à¤£à¥à¤¯à¤¾à¤‚à¤¸à¤¾à¤ à¥€ à¤—à¤°à¤® à¤ªà¤¾à¤£à¥à¤¯à¤¾à¤šà¤¾ à¤‰à¤ªà¤šà¤¾à¤° à¤µà¤¾à¤ªà¤°à¤¾."
            },
            {
                name: "Wilt Disease",
                keywords: ["wilt", "wilting", "drooping", "mar"],
                severity: "medium",
                confidence: 75,
                detection_en: "âš ï¸ **Wilt Disease** suspected - leaves showing drooping and yellowing symptoms.",
                detection_mr: "âš ï¸ **à¤®à¤° à¤°à¥‹à¤—** à¤¸à¤‚à¤¶à¤¯à¤¿à¤¤ - à¤ªà¤¾à¤¨à¥‡ à¤à¥à¤•à¤£à¥‡ à¤†à¤£à¤¿ à¤ªà¤¿à¤µà¤³à¤¸à¤° à¤¹à¥‹à¤£à¥à¤¯à¤¾à¤šà¥€ à¤²à¤•à¥à¤·à¤£à¥‡ à¤¦à¤°à¥à¤¶à¤µà¤¿à¤¤ à¤†à¤¹à¥‡à¤¤.",
                recommendation_en: "Improve soil drainage. Apply appropriate fungicide. Avoid waterlogging in field.",
                recommendation_mr: "à¤®à¤¾à¤¤à¥€à¤šà¤¾ à¤¨à¤¿à¤šà¤°à¤¾ à¤¸à¥à¤§à¤¾à¤°à¤¾. à¤¯à¥‹à¤—à¥à¤¯ à¤¬à¥à¤°à¤¶à¥€à¤¨à¤¾à¤¶à¤• à¤µà¤¾à¤ªà¤°à¤¾. à¤¶à¥‡à¤¤à¤¾à¤¤ à¤ªà¤¾à¤£à¤¥à¤³ à¤Ÿà¤¾à¤³à¤¾."
            },
            {
                name: "Leaf Scald",
                keywords: ["leaf scald", "scald", "white streaks", "pale"],
                severity: "medium",
                confidence: 82,
                detection_en: "âš ï¸ **Leaf Scald** detected - white streaks and pale areas on leaves.",
                detection_mr: "âš ï¸ **à¤ªà¤¾à¤¨à¤¾à¤‚à¤šà¤¾ à¤à¤¾à¤²à¥‡à¤°** à¤†à¤¢à¤³à¤²à¤¾ - à¤ªà¤¾à¤¨à¤¾à¤‚à¤µà¤° à¤ªà¤¾à¤‚à¤¢à¤°à¥‡ à¤°à¥‡à¤·à¤¾ à¤†à¤£à¤¿ à¤«à¤¿à¤•à¤Ÿ à¤•à¥à¤·à¥‡à¤¤à¥à¤°.",
                recommendation_en: "Use disease-free planting material. Sterilize cutting tools between plants.",
                recommendation_mr: "à¤°à¥‹à¤—à¤®à¥à¤•à¥à¤¤ à¤²à¤¾à¤—à¤µà¤¡ à¤¸à¤¾à¤¹à¤¿à¤¤à¥à¤¯ à¤µà¤¾à¤ªà¤°à¤¾. à¤°à¥‹à¤ªà¤¾à¤‚à¤®à¤§à¥à¤¯à¥‡ à¤•à¤¾à¤ªà¤£à¥€ à¤¸à¤¾à¤§à¤¨à¥‡ à¤¨à¤¿à¤°à¥à¤œà¤‚à¤¤à¥à¤• à¤•à¤°à¤¾."
            },
            {
                name: "Stem Borer",
                keywords: ["stem borer", "shoot borer", "dead heart", "komb kida"],
                severity: "medium",
                confidence: 84,
                detection_en: "ðŸª² **Stem Borer** infestation detected - dead heart symptom visible.",
                detection_mr: "ðŸª² **à¤•à¥‹à¤‚à¤¬ à¤•à¤¿à¤¡à¥€** à¤ªà¥à¤°à¤¾à¤¦à¥à¤°à¥à¤­à¤¾à¤µ à¤†à¤¢à¤³à¤²à¤¾ - à¤¡à¥‡à¤¡ à¤¹à¤¾à¤°à¥à¤Ÿ à¤²à¤•à¥à¤·à¤£ à¤¦à¤¿à¤¸à¤¤ à¤†à¤¹à¥‡.",
                recommendation_en: "Apply granular insecticide at plant base. Use light traps. Release Trichogramma parasites.",
                recommendation_mr: "à¤°à¥‹à¤ªà¤¾à¤šà¥à¤¯à¤¾ à¤¤à¤³à¤¾à¤¶à¥€ à¤¦à¤¾à¤£à¥‡à¤¦à¤¾à¤° à¤•à¥€à¤Ÿà¤•à¤¨à¤¾à¤¶à¤• à¤µà¤¾à¤ªà¤°à¤¾. à¤ªà¥à¤°à¤•à¤¾à¤¶ à¤¸à¤¾à¤ªà¤³à¥‡ à¤µà¤¾à¤ªà¤°à¤¾. à¤Ÿà¥à¤°à¤¾à¤¯à¤•à¥‹à¤—à¥à¤°à¤¾à¤®à¤¾ à¤ªà¤°à¤œà¥€à¤µà¥€ à¤¸à¥‹à¤¡à¤¾."
            },
            {
                name: "Woolly Aphid",
                keywords: ["woolly aphid", "aphid", "white cottony", "lokanri mava"],
                severity: "medium",
                confidence: 88,
                detection_en: "ðŸª² **Woolly Aphid** infestation - white cottony masses on leaves and stems.",
                detection_mr: "ðŸª² **à¤²à¥‹à¤•à¤°à¥€ à¤®à¤¾à¤µà¤¾** à¤ªà¥à¤°à¤¾à¤¦à¥à¤°à¥à¤­à¤¾à¤µ - à¤ªà¤¾à¤¨à¥‡ à¤†à¤£à¤¿ à¤–à¥‹à¤¡à¤¾à¤µà¤° à¤ªà¤¾à¤‚à¤¢à¤°à¥‡ à¤•à¤¾à¤ªà¤¸à¤¾à¤¸à¤¾à¤°à¤–à¥‡ à¤—à¥‹à¤³à¥‡.",
                recommendation_en: "Spray neem oil (0.5%) or soap solution. Release ladybird beetles as natural predators.",
                recommendation_mr: "à¤¨à¤¿à¤‚à¤¬ à¤¤à¥‡à¤² (0.5%) à¤•à¤¿à¤‚à¤µà¤¾ à¤¸à¤¾à¤¬à¤£ à¤¦à¥à¤°à¤¾à¤µà¤£ à¤«à¤µà¤¾à¤°à¤¾. à¤¨à¥ˆà¤¸à¤°à¥à¤—à¤¿à¤• à¤­à¤•à¥à¤·à¤• à¤®à¥à¤¹à¤£à¥‚à¤¨ à¤²à¥‡à¤¡à¥€à¤¬à¤°à¥à¤¡ à¤¬à¥€à¤Ÿà¤² à¤¸à¥‹à¤¡à¤¾."
            },
            {
                name: "Nitrogen Deficiency",
                keywords: ["nitrogen", "yellow leaves", "pale", "stunted"],
                severity: "medium",
                confidence: 83,
                detection_en: "ðŸŸ¡ **Nitrogen Deficiency** - pale yellow older leaves, stunted growth.",
                detection_mr: "ðŸŸ¡ **à¤¨à¤¤à¥à¤° à¤•à¤®à¤¤à¤°à¤¤à¤¾** - à¤«à¤¿à¤•à¤Ÿ à¤ªà¤¿à¤µà¤³à¥€ à¤œà¥à¤¨à¥€ à¤ªà¤¾à¤¨à¥‡, à¤µà¤¾à¤¢ à¤…à¤¡à¤•à¤²à¥‡à¤²à¥€.",
                recommendation_en: "Apply urea or other nitrogenous fertilizers in split doses during growth stages.",
                recommendation_mr: "à¤µà¤¾à¤¢à¥€à¤šà¥à¤¯à¤¾ à¤Ÿà¤ªà¥à¤ªà¥à¤¯à¤¾à¤‚à¤¦à¤°à¤®à¥à¤¯à¤¾à¤¨ à¤¯à¥à¤°à¤¿à¤¯à¤¾ à¤•à¤¿à¤‚à¤µà¤¾ à¤‡à¤¤à¤° à¤¨à¤¤à¥à¤°à¤¯à¥à¤•à¥à¤¤ à¤–à¤¤ à¤µà¤¿à¤­à¤¾à¤—à¥‚à¤¨ à¤¦à¥à¤¯à¤¾."
            },
            {
                name: "Healthy Sugarcane",
                keywords: ["healthy", "normal", "good", "thriving"],
                severity: "low",
                confidence: 92,
                detection_en: "âœ… **Healthy Sugarcane** - crop appears healthy with normal growth patterns.",
                detection_mr: "âœ… **à¤¨à¤¿à¤°à¥‹à¤—à¥€ à¤Šà¤¸** - à¤ªà¥€à¤• à¤¸à¤¾à¤®à¤¾à¤¨à¥à¤¯ à¤µà¤¾à¤¢à¥€à¤šà¥à¤¯à¤¾ à¤ªà¤¦à¥à¤§à¤¤à¥€à¤‚à¤¸à¤¹ à¤¨à¤¿à¤°à¥‹à¤—à¥€ à¤¦à¤¿à¤¸à¤¤ à¤†à¤¹à¥‡.",
                recommendation_en: "Continue current practices. Maintain regular irrigation and monitor for any changes.",
                recommendation_mr: "à¤¸à¤§à¥à¤¯à¤¾à¤šà¥à¤¯à¤¾ à¤ªà¤¦à¥à¤§à¤¤à¥€ à¤šà¤¾à¤²à¥‚ à¤ à¥‡à¤µà¤¾. à¤¨à¤¿à¤¯à¤®à¤¿à¤¤ à¤¸à¤¿à¤‚à¤šà¤¨ à¤°à¤¾à¤–à¤¾ à¤†à¤£à¤¿ à¤•à¥‹à¤£à¤¤à¥à¤¯à¤¾à¤¹à¥€ à¤¬à¤¦à¤²à¤¾à¤‚à¤µà¤° à¤²à¤•à¥à¤· à¤ à¥‡à¤µà¤¾."
            }
        ];

        // Page navigation
        function showPage(pageId, navElement) {
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.remove('active');
            });
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
            }

            document.querySelectorAll('#mainNav a').forEach(link => {
                link.classList.remove('active');
            });
            if (navElement) {
                navElement.classList.add('active');
            }
        }

        // Language toggle
        function toggleLanguage() {
            currentLang = (currentLang === "en") ? "mr" : "en";
            updateUI(currentLang);
        }

        // Update UI with translations
        function updateUI(lang) {
            const t = translations[lang];

            // Update login page
            document.getElementById('headerTitle').textContent = t.headerTitle;
            document.getElementById('headerTagline').textContent = t.headerTagline;
            document.getElementById('usernameLabel').textContent = t.usernameLabel;
            document.getElementById('passwordLabel').textContent = t.passwordLabel;
            document.getElementById('loginButton').textContent = t.loginButton;
            document.getElementById('noAccount').innerHTML = `${t.noAccount} <a href="#" id="registerLink">${t.registerLink}</a>`;
            document.getElementById('forgotPassword').innerHTML = `<a href="#" id="forgotPasswordLink">${t.forgotPasswordLink}</a>`;
            document.getElementById('langBtn').textContent = t.lang_btn;
            
            // Update registration form
            document.getElementById('registerTitle').textContent = t.registerTitle;
            document.getElementById('registerTagline').textContent = t.registerTagline;
            document.getElementById('fullNameLabel').textContent = t.fullNameLabel;
            document.getElementById('phoneLabel').textContent = t.phoneLabel;
            document.getElementById('emailLabel').textContent = t.emailLabel;
            document.getElementById('locationLabel').textContent = t.locationLabel;
            document.getElementById('regPasswordLabel').textContent = t.regPasswordLabel;
            document.getElementById('confirmPasswordLabel').textContent = t.confirmPasswordLabel;
            document.getElementById('registerButton').textContent = t.registerButton;
            document.getElementById('haveAccount').innerHTML = `${t.haveAccount} <a href="#" id="loginLink">${t.loginLink}</a>`;
            document.getElementById('regLangBtn').textContent = t.lang_btn;

            // Update app page
            document.getElementById('appHeaderTitle').textContent = t.appHeaderTitle;
            document.getElementById('appHeaderTagline').textContent = t.appHeaderTagline;
            document.getElementById('appLangBtn').textContent = t.lang_btn;

            // Update all text elements
            const elements = [
                'climateTitle', 'viewDetailedLink', 'marqueeText', 'didYouKnowTitle',
                'qlMarket', 'qlGovt', 'qlAssistant', 'qlCalculator', 'marketListingsTitle',
                'pricePredTitle', 'pricePredText', 'communityTitle', 'storageAvailableTitle',
                'storageLogisticsTitle', 'govtSchemesTitle', 'govtLoansTitle', 'plannerTitle',
                'assistantTitle', 'cameraTitle', 'cameraDescription', 'weatherTitle', 
                'weatherButton', 'calculatorTitle', 'footerText', 'priceAlertTitle', 
                'taskReminderTitle', 'cropCycleTitle', 'sellYourCropTitle', 'schemeAlert',
                'plannerAlert', 'progressStart', 'progressCurrent', 'progressEnd', 
                'cycleEstimate', 'marketAlert'
            ];

            elements.forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.textContent = t[id];
                }
            });

            // Update navigation links
            document.querySelectorAll('#mainNav a').forEach(link => {
                const key = link.getAttribute('data-key');
                if (key && t[key]) {
                    link.textContent = t[key];
                }
            });

            // Update table headers
            document.querySelectorAll('th[data-key]').forEach(th => {
                const key = th.getAttribute('data-key');
                if (key && t[key]) {
                    th.textContent = t[key];
                }
            });

            // Update placeholder
            document.getElementById('aiQuestion').placeholder = t.aiQuestionPlaceholder;
            document.getElementById('aiButton').textContent = t.aiButton;
            document.getElementById('cameraButton').textContent = t.cameraButton;

            // Update dynamic content
            rotateClimate(true);
            rotateFacts(true);
        }

        // Climate rotation
        function rotateClimate(isLangChange = false) {
            if (isLangChange) {
                const climateEl = document.getElementById("climateSummary");
                if (climateEl) {
                    climateEl.innerHTML = climateData[climateIndex > 0 ? climateIndex - 1 : climateData.length - 1][currentLang];
                }
            } else {
                const climateEl = document.getElementById("climateSummary");
                if (climateEl) {
                    climateEl.innerHTML = climateData[climateIndex][currentLang];
                    climateIndex = (climateIndex + 1) % climateData.length;
                }
            }
        }

        // Facts rotation
        function rotateFacts(isLangChange = false) {
            if (isLangChange) {
                const factEl = document.getElementById("factBox");
                if (factEl) {
                    factEl.textContent = facts[factIndex > 0 ? factIndex - 1 : facts.length - 1][currentLang];
                }
            } else {
                const factEl = document.getElementById("factBox");
                if (factEl) {
                    factEl.textContent = facts[factIndex][currentLang];
                    factIndex = (factIndex + 1) % facts.length;
                }
            }
        }

        // Weather display
        function showWeather() {
            const city = document.getElementById("city").value;
            const data = weatherData[city];
            
            const cityDisplay = city.charAt(0).toUpperCase() + city.slice(1);
            const condition = currentLang === 'en' ? data.condition_en : data.condition_mr;
            const alertText = currentLang === 'en' ? data.alert_en : data.alert_mr;
            
            const labels = {
                temp: currentLang === 'en' ? 'ðŸŒ¡ Temperature' : 'ðŸŒ¡ à¤¤à¤¾à¤ªà¤®à¤¾à¤¨',
                condition: currentLang === 'en' ? 'â˜ Condition' : 'â˜ à¤¸à¥à¤¥à¤¿à¤¤à¥€',
                humidity: currentLang === 'en' ? 'ðŸ’§ Humidity' : 'ðŸ’§ à¤†à¤°à¥à¤¦à¥à¤°à¤¤à¤¾',
                wind: currentLang === 'en' ? 'ðŸŒ¬ Wind' : 'ðŸŒ¬ à¤µà¤¾à¤°à¤¾'
            };
            
            document.getElementById("weatherResult").innerHTML = `
                <p><strong>ðŸŒ ${cityDisplay}</strong></p>
                <p>${labels.temp}: ${data.temp}</p>
                <p>${labels.condition}: ${condition}</p>
                <p>${labels.humidity}: ${data.humidity}</p>
                <p>${labels.wind}: ${data.wind}</p>
            `;
            
            // Show weather alert
            const alertBox = document.getElementById('weatherAlert');
            alertBox.style.display = 'flex';
            document.getElementById('alertText').textContent = alertText;
        }

        // AI Assistant
        function askAssistant() {
            const question = document.getElementById("aiQuestion").value.toLowerCase();
            const answerBox = document.getElementById("aiAnswer");
            
            if (!question) {
                answerBox.innerHTML = `<div class="alert-notification alert-warning">
                    <span>â—</span>
                    <span>${currentLang === "en" ? "Please enter a question." : "à¤•à¥ƒà¤ªà¤¯à¤¾ à¤ªà¥à¤°à¤¶à¥à¤¨ à¤Ÿà¤¾à¤•à¤¾."}</span>
                </div>`;
                return;
            }
            
            // Find matching answer
            let answer = knowledgeBase.default[currentLang];
            
            for (const [key, value] of Object.entries(knowledgeBase)) {
                if (question.includes(key)) {
                    answer = value[currentLang];
                    break;
                }
            }
            
            answerBox.innerHTML = `<div class="alert-notification alert-success">
                <span>ðŸ¤–</span>
                <span>${answer}</span>
            </div>`;
        }

        function quickQuestion(type) {
            const questions = {
                'sugarcane price': 'What is the current price of sugarcane?',
                'sugarcane diseases': 'What are common sugarcane diseases?',
                'fertilizer schedule': 'What is the fertilizer schedule for sugarcane?',
                'irrigation tips': 'What are the best irrigation practices for sugarcane?'
            };
            
            document.getElementById('aiQuestion').value = questions[type] || type;
            askAssistant();
        }

        // Camera analysis
        function analyzeImage() {
            const fileInput = document.getElementById("cropImage");
            const resultBox = document.getElementById("analysisResult");
            
            if (!fileInput.files || fileInput.files.length === 0) {
                resultBox.innerHTML = `<div class="alert-notification alert-warning">
                    <span>â—</span>
                    <span>${currentLang === 'en' ? "Please upload a crop image." : "à¤•à¥ƒà¤ªà¤¯à¤¾ à¤ªà¤¿à¤•à¤¾à¤šà¥‡ à¤›à¤¾à¤¯à¤¾à¤šà¤¿à¤¤à¥à¤° à¤…à¤ªà¤²à¥‹à¤¡ à¤•à¤°à¤¾."}</span>
                </div>`;
                return;
            }
            
            // Simulate AI processing
            resultBox.innerHTML = `<div class="alert-notification alert-warning">
                <span>ðŸ”</span>
                <span>${currentLang === 'en' ? "Analyzing image..." : "à¤›à¤¾à¤¯à¤¾à¤šà¤¿à¤¤à¥à¤° à¤µà¤¿à¤¶à¥à¤²à¥‡à¤·à¤£ à¤•à¤°à¤¤ à¤†à¤¹à¥‡..."}</span>
            </div>`;
            
            setTimeout(() => {
                // Randomly select a detection result
                const randomDetection = detectionDatabase[Math.floor(Math.random() * detectionDatabase.length)];
                
                const severityClass = `detection-severity-${randomDetection.severity}`;
                const severityIcon = randomDetection.severity === 'low' ? 'âœ…' : 
                                   randomDetection.severity === 'medium' ? 'âš ï¸' : 'ðŸš¨';
                
                const detectionText = currentLang === 'en' ? randomDetection.detection_en : randomDetection.detection_mr;
                const recommendationText = currentLang === 'en' ? randomDetection.recommendation_en : randomDetection.recommendation_mr;
                
                resultBox.innerHTML = `
                    <div class="detection-item ${severityClass}">
                        <div class="detection-title">${severityIcon} ${randomDetection.name}</div>
                        <div class="detection-confidence">${currentLang === 'en' ? 'Confidence:' : 'à¤†à¤¤à¥à¤®à¤µà¤¿à¤¶à¥à¤µà¤¾à¤¸:'} ${randomDetection.confidence}%</div>
                        <div class="detection-recommendation">
                            <strong>${currentLang === 'en' ? 'Detection:' : 'à¤¶à¥‹à¤§:'}</strong> ${detectionText}<br>
                            <strong>${currentLang === 'en' ? 'Recommendation:' : 'à¤¶à¤¿à¤«à¤¾à¤°à¤¸:'}</strong> ${recommendationText}
                        </div>
                    </div>
                    <div class="alert-notification alert-success">
                        <span>ðŸ’¡</span>
                        <span>${currentLang === 'en' ? 
                            "Based on this analysis, we recommend consulting with a local agriculture expert for field verification." :
                            "à¤¯à¤¾ à¤µà¤¿à¤¶à¥à¤²à¥‡à¤·à¤£à¤¾à¤µà¤° à¤†à¤§à¤¾à¤°à¤¿à¤¤, à¤†à¤®à¥à¤¹à¥€ à¤«à¥€à¤²à¥à¤¡ à¤¸à¤¤à¥à¤¯à¤¾à¤ªà¤¨à¤¾à¤¸à¤¾à¤ à¥€ à¤¸à¥à¤¥à¤¾à¤¨à¤¿à¤• à¤•à¥ƒà¤·à¥€ à¤¤à¤œà¥à¤žà¤¾à¤‚à¤šà¤¾ à¤¸à¤²à¥à¤²à¤¾ à¤˜à¥‡à¤£à¥à¤¯à¤¾à¤šà¥€ à¤¶à¤¿à¤«à¤¾à¤°à¤¸ à¤•à¤°à¤¤à¥‹."}
                        </span>
                    </div>
                `;
            }, 2000);
        }

        function simulateCamera(source) {
            const resultBox = document.getElementById("analysisResult");
            resultBox.innerHTML = `<div class="alert-notification alert-warning">
                <span>ðŸ“·</span>
                <span>${currentLang === 'en' ? "Capturing image..." : "à¤›à¤¾à¤¯à¤¾à¤šà¤¿à¤¤à¥à¤° à¤˜à¥‡à¤¤ à¤†à¤¹à¥‡..."}</span>
            </div>`;
            
            setTimeout(() => {
                analyzeImage();
            }, 1500);
        }

        // Calculator functions
        function calculateProfit() {
            const area = parseFloat(document.getElementById('landArea').value) || 0;
            const yieldVal = parseFloat(document.getElementById('expectedYield').value) || 0;
            const price = parseFloat(document.getElementById('sellingPrice').value) || 3250;
            const cost = parseFloat(document.getElementById('productionCost').value) || 60000;
            
            const totalRevenue = area * yieldVal * (price / 1000);
            const totalCost = area * cost;
            const profit = totalRevenue - totalCost;
            const roi = (profit / totalCost) * 100;
            
            const result = currentLang === 'en' ?
                `ðŸ’° <strong>Profit Calculation:</strong><br>
                 Total Revenue: â‚¹${totalRevenue.toLocaleString()}<br>
                 Total Cost: â‚¹${totalCost.toLocaleString()}<br>
                 <strong>Net Profit: â‚¹${profit.toLocaleString()}</strong><br>
                 ROI: ${roi.toFixed(1)}%` :
                `ðŸ’° <strong>à¤¨à¤«à¤¾ à¤—à¤£à¤¨à¤¾:</strong><br>
                 à¤à¤•à¥‚à¤£ à¤‰à¤¤à¥à¤ªà¤¨à¥à¤¨: â‚¹${totalRevenue.toLocaleString()}<br>
                 à¤à¤•à¥‚à¤£ à¤–à¤°à¥à¤š: â‚¹${totalCost.toLocaleString()}<br>
                 <strong>à¤¨à¤¿à¤µà¥à¤µà¤³ à¤¨à¤«à¤¾: â‚¹${profit.toLocaleString()}</strong><br>
                 ROI: ${roi.toFixed(1)}%`;
            
            document.getElementById('profitResult').innerHTML = result;
        }

        function calculateFertilizer() {
            const area = parseFloat(document.getElementById('fertilizerArea').value) || 0;
            const type = document.getElementById('fertilizerType').value;
            
            const recommendations = {
                'urea': { rate: 100, unit: 'kg/acre', desc: 'Nitrogen for growth' },
                'dap': { rate: 50, unit: 'kg/acre', desc: 'Phosphorus for roots' },
                'mop': { rate: 40, unit: 'kg/acre', desc: 'Potassium for quality' },
                'complex': { rate: 80, unit: 'kg/acre', desc: 'Balanced nutrition' }
            };
            
            const rec = recommendations[type];
            const total = area * rec.rate;
            
            const result = currentLang === 'en' ?
                `ðŸ§ª <strong>Fertilizer Requirement:</strong><br>
                 Type: ${type.toUpperCase()}<br>
                 Rate: ${rec.rate} ${rec.unit}<br>
                 <strong>Total Required: ${total} kg</strong><br>
                 Purpose: ${rec.desc}` :
                `ðŸ§ª <strong>à¤–à¤¤ à¤†à¤µà¤¶à¥à¤¯à¤•à¤¤à¤¾:</strong><br>
                 à¤ªà¥à¤°à¤•à¤¾à¤°: ${type.toUpperCase()}<br>
                 à¤¦à¤°: ${rec.rate} ${rec.unit}<br>
                 <strong>à¤à¤•à¥‚à¤£ à¤†à¤µà¤¶à¥à¤¯à¤•: ${total} kg</strong><br>
                 à¤‰à¤¦à¥à¤¦à¥‡à¤¶: ${rec.desc}`;
            
            document.getElementById('fertilizerResult').innerHTML = result;
        }

        function calculateWater() {
            const area = parseFloat(document.getElementById('waterArea').value) || 0;
            const stage = document.getElementById('cropStage').value;
            
            const waterRequirements = {
                'initial': { rate: 500, unit: 'liters/acre/day', desc: 'Light irrigation' },
                'development': { rate: 800, unit: 'liters/acre/day', desc: 'Moderate irrigation' },
                'mid': { rate: 1200, unit: 'liters/acre/day', desc: 'Heavy irrigation' },
                'late': { rate: 600, unit: 'liters/acre/day', desc: 'Reduce before harvest' }
            };
            
            const req = waterRequirements[stage];
            const total = area * req.rate;
            
            const result = currentLang === 'en' ?
                `ðŸ’§ <strong>Water Requirement:</strong><br>
                 Crop Stage: ${stage}<br>
                 Rate: ${req.rate} ${req.unit}<br>
                 <strong>Total Required: ${total.toLocaleString()} liters/day</strong><br>
                 Note: ${req.desc}` :
                `ðŸ’§ <strong>à¤ªà¤¾à¤£à¥€ à¤†à¤µà¤¶à¥à¤¯à¤•à¤¤à¤¾:</strong><br>
                 à¤ªà¥€à¤• à¤Ÿà¤ªà¥à¤ªà¤¾: ${stage}<br>
                 à¤¦à¤°: ${req.rate} ${req.unit}<br>
                 <strong>à¤à¤•à¥‚à¤£ à¤†à¤µà¤¶à¥à¤¯à¤•: ${total.toLocaleString()} à¤²à¤¿à¤Ÿà¤°/à¤¦à¤¿à¤µà¤¸</strong><br>
                 à¤¸à¥‚à¤šà¤¨à¤¾: ${req.desc}`;
            
            document.getElementById('waterResult').innerHTML = result;
        }

        // Community features
        function postQuestion() {
            const question = document.getElementById('newQuestion').value;
            if (!question) return;
            
            const postsContainer = document.getElementById('communityPosts');
            const newPost = document.createElement('div');
            newPost.className = 'community-post';
            newPost.innerHTML = `
                <div class="community-post-header">
                    <span class="post-author">You</span>
                    <span class="post-time">Just now</span>
                </div>
                <p>${question}</p>
            `;
            
            postsContainer.prepend(newPost);
            document.getElementById('newQuestion').value = '';
            
            // Simulate expert response after delay
            setTimeout(() => {
                const response = document.createElement('div');
                response.className = 'community-post';
                response.style.marginLeft = '20px';
                response.style.background = '#f8f9fa';
                response.innerHTML = `
                    <div class="community-post-header">
                        <span class="post-author">Expert</span>
                        <span class="post-time">2 minutes ago</span>
                    </div>
                    <p>${currentLang === 'en' ? 
                        "Thank you for your question! Our agriculture experts will respond shortly. In the meantime, you might find helpful information in our AI Assistant section." :
                        "à¤¤à¥à¤®à¤šà¥à¤¯à¤¾ à¤ªà¥à¤°à¤¶à¥à¤¨à¤¾à¤¬à¤¦à¥à¤¦à¤² à¤§à¤¨à¥à¤¯à¤µà¤¾à¤¦! à¤†à¤®à¤šà¥‡ à¤•à¥ƒà¤·à¥€ à¤¤à¤œà¥à¤ž à¤²à¤µà¤•à¤°à¤š à¤ªà¥à¤°à¤¤à¤¿à¤¸à¤¾à¤¦ à¤¦à¥‡à¤¤à¥€à¤². à¤¦à¤°à¤®à¥à¤¯à¤¾à¤¨, à¤¤à¥à¤®à¥à¤¹à¤¾à¤²à¤¾ à¤†à¤®à¤šà¥à¤¯à¤¾ AI à¤¸à¤¹à¤¾à¤¯à¥à¤¯à¤• à¤µà¤¿à¤­à¤¾à¤—à¤¾à¤¤ à¤‰à¤ªà¤¯à¥à¤•à¥à¤¤ à¤®à¤¾à¤¹à¤¿à¤¤à¥€ à¤¸à¤¾à¤ªà¤¡à¥‚ à¤¶à¤•à¤¤à¥‡."}
                    </p>
                `;
                newPost.appendChild(response);
            }, 3000);
        }

        // Marketplace features
        function contactSeller(seller) {
            alert(currentLang === 'en' ? 
                `Contacting ${seller}...\nPhone: 9XXXX XXXXX\n(Simulated contact)` :
                `${seller} à¤¶à¥€ à¤¸à¤‚à¤ªà¤°à¥à¤• à¤¸à¤¾à¤§à¤¤ à¤†à¤¹à¥‡...\nà¤«à¥‹à¤¨: 9XXXX XXXXX\n(à¤¸à¤¿à¤®à¥à¤¯à¥à¤²à¥‡à¤Ÿà¥‡à¤¡ à¤¸à¤‚à¤ªà¤°à¥à¤•)`);
        }

        function listYourCrop() {
            const type = document.getElementById('cropType').value;
            const quantity = document.getElementById('cropQuantity').value;
            const price = document.getElementById('cropPrice').value;
            
            if (!type || !quantity || !price) {
                alert(currentLang === 'en' ? "Please fill all fields" : "à¤•à¥ƒà¤ªà¤¯à¤¾ à¤¸à¤°à¥à¤µ à¤«à¥€à¤²à¥à¤¡ à¤­à¤°à¤¾");
                return;
            }
            
            alert(currentLang === 'en' ?
                `Your ${type} crop (${quantity} kg) listed at â‚¹${price}/quintal!\nBuyers can now contact you.` :
                `à¤¤à¥à¤®à¤šà¥‡ ${type} à¤ªà¥€à¤• (${quantity} kg) â‚¹${price}/à¤•à¥à¤µà¤¿à¤‚à¤Ÿà¤² à¤¦à¤°à¤¾à¤¨à¥‡ à¤¸à¥‚à¤šà¥€à¤¬à¤¦à¥à¤§ à¤•à¥‡à¤²à¥‡!\nà¤†à¤¤à¤¾ à¤–à¤°à¥‡à¤¦à¥€à¤¦à¤¾à¤° à¤¤à¥à¤®à¤šà¥à¤¯à¤¾à¤¶à¥€ à¤¸à¤‚à¤ªà¤°à¥à¤• à¤¸à¤¾à¤§à¥‚ à¤¶à¤•à¤¤à¤¾à¤¤.`);
            
            document.getElementById('sellForm').reset();
        }

        // Application functions
        function applyScheme(scheme) {
            alert(currentLang === 'en' ?
                `Applying for ${scheme}...\nRedirecting to application form.` :
                `${scheme} à¤¸à¤¾à¤ à¥€ à¤…à¤°à¥à¤œ à¤•à¤°à¤¤ à¤†à¤¹à¥‡...\nà¤…à¤°à¥à¤œ à¤«à¥‰à¤°à¥à¤®à¤µà¤° à¤ªà¥à¤¨à¤°à¥à¤¨à¤¿à¤°à¥à¤¦à¥‡à¤¶à¤¿à¤¤ à¤•à¤°à¤¤ à¤†à¤¹à¥‡.`);
        }

        function applyLoan(loan) {
            alert(currentLang === 'en' ?
                `Applying for ${loan}...\nPlease have your documents ready.` :
                `${loan} à¤¸à¤¾à¤ à¥€ à¤…à¤°à¥à¤œ à¤•à¤°à¤¤ à¤†à¤¹à¥‡...\nà¤•à¥ƒà¤ªà¤¯à¤¾ à¤†à¤ªà¤²à¥€ à¤•à¤¾à¤—à¤¦à¤ªà¤¤à¥à¤°à¥‡ à¤¤à¤¯à¤¾à¤° à¤ à¥‡à¤µà¤¾.`);
        }

        function contactStorage(storage) {
            alert(currentLang === 'en' ?
                `Contacting ${storage}...\nPhone: 1-800-STORAGE\n(Simulated booking)` :
                `${storage} à¤¶à¥€ à¤¸à¤‚à¤ªà¤°à¥à¤• à¤¸à¤¾à¤§à¤¤ à¤†à¤¹à¥‡...\nà¤«à¥‹à¤¨: 1-800-STORAGE\n(à¤¸à¤¿à¤®à¥à¤¯à¥à¤²à¥‡à¤Ÿà¥‡à¤¡ à¤¬à¥à¤•à¤¿à¤‚à¤—)`);
        }

        function contactLogistics(logistics) {
            alert(currentLang === 'en' ?
                `Contacting ${logistics}...\nPhone: 1-800-LOGISTICS\n(Simulated booking)` :
                `${logistics} à¤¶à¥€ à¤¸à¤‚à¤ªà¤°à¥à¤• à¤¸à¤¾à¤§à¤¤ à¤†à¤¹à¥‡...\nà¤«à¥‹à¤¨: 1-800-LOGISTICS\n(à¤¸à¤¿à¤®à¥à¤¯à¥à¤²à¥‡à¤Ÿà¥‡à¤¡ à¤¬à¥à¤•à¤¿à¤‚à¤—)`);
        }

        function addCustomTask() {
            const task = document.getElementById('customTask').value;
            const date = document.getElementById('taskDate').value;
            
            if (!task) return;
            
            alert(currentLang === 'en' ?
                `Task "${task}" added to your planner!` :
                `à¤•à¤¾à¤°à¥à¤¯ "${task}" à¤†à¤ªà¤²à¥à¤¯à¤¾ à¤¨à¤¿à¤¯à¥‹à¤œà¤•à¤¾à¤¤ à¤œà¥‹à¤¡à¤²à¥‡!`);
            
            document.getElementById('customTask').value = '';
            document.getElementById('taskDate').value = '';
        }

        // NEW FEATURE FUNCTIONS
        
        function scheduleSoilTest() {
            const dateInput = document.getElementById('soilTestDate');
            if (dateInput.value) {
                alert(`Soil test scheduled for ${dateInput.value}. Our representative will contact you.`);
                dateInput.value = '';
            } else {
                alert('Please select a date for soil testing.');
            }
        }

        function setRotationReminder() {
            alert('Reminder set for crop rotation in December 2024');
        }

        function modifyIrrigationSchedule() {
            alert('Irrigation schedule modification panel opened');
        }

        function irrigateZone(zone) {
            alert(`Starting irrigation for ${zone}`);
        }

        function scheduleIrrigation(zone) {
            alert(`Opening schedule panel for ${zone}`);
        }

        // Equipment Rental functions
        function rentEquipment(equipment) {
            alert(`Booking ${equipment}. Our representative will contact you for confirmation.`);
        }

        function cancelBooking(equipment) {
            alert(`Cancelling booking for ${equipment}`);
        }

        // Digital Payments functions
        function selectPaymentMethod(method) {
            selectedPaymentMethod = method;
            document.getElementById('selectedMethod').textContent = `Payment Method: ${method}`;
            document.getElementById('paymentForm').style.display = 'block';
        }

        function processPayment() {
            const amount = document.getElementById('paymentAmount').value;
            const details = document.getElementById('paymentDetails').value;
            
            if (!amount || !details) {
                alert('Please fill all payment details');
                return;
            }
            
            alert(`Payment of â‚¹${amount} for ${details} via ${selectedPaymentMethod} processed successfully!`);
            document.getElementById('paymentForm').style.display = 'none';
            document.getElementById('paymentAmount').value = '';
            document.getElementById('paymentDetails').value = '';
        }

        // Farm Diary functions
        function addDiaryEntry() {
            const date = document.getElementById('diaryDate').value;
            const entry = document.getElementById('diaryEntry').value;
            
            if (!date || !entry) {
                alert('Please fill both date and diary entry');
                return;
            }
            
            const diaryEntries = document.getElementById('diaryEntries');
            const newEntry = document.createElement('div');
            newEntry.className = 'diary-entry';
            
            const dateObj = new Date(date);
            const formattedDate = dateObj.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            newEntry.innerHTML = `
                <div class="diary-date">${formattedDate}</div>
                <div class="diary-content">${entry}</div>
            `;
            
            diaryEntries.prepend(newEntry);
            document.getElementById('diaryDate').value = '';
            document.getElementById('diaryEntry').value = '';
            
            alert('Diary entry added successfully!');
        }

        // Training functions
        function enrollTraining(course) {
            alert(`Enrolled in ${course} training course! You will receive course materials shortly.`);
        }

        function continueTraining(course) {
            alert(`Continuing ${course} training course`);
        }

        // Login and Registration Functions
        // Toggle between login and registration forms
        document.getElementById('registerLink').addEventListener('click', function(e) {
            e.preventDefault();
            document.getElementById('loginForm').parentElement.style.display = 'none';
            document.getElementById('registrationContainer').style.display = 'block';
        });

        document.getElementById('loginLink').addEventListener('click', function(e) {
            e.preventDefault();
            document.getElementById('registrationContainer').style.display = 'none';
            document.getElementById('loginForm').parentElement.style.display = 'block';
        });

        // Form validation and submission
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            // Simple validation
            let isValid = true;
            
            if (!username) {
                document.getElementById('usernameError').textContent = currentLang === 'en' ? 
                    'Please enter your username or phone number' : 
                    'à¤•à¥ƒà¤ªà¤¯à¤¾ à¤†à¤ªà¤²à¥‡ à¤µà¤¾à¤ªà¤°à¤•à¤°à¥à¤¤à¤¾à¤¨à¤¾à¤µ à¤•à¤¿à¤‚à¤µà¤¾ à¤«à¥‹à¤¨ à¤¨à¤‚à¤¬à¤° à¤Ÿà¤¾à¤•à¤¾';
                document.getElementById('usernameError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('usernameError').style.display = 'none';
            }
            
            if (!password) {
                document.getElementById('passwordError').textContent = currentLang === 'en' ? 
                    'Please enter your password' : 
                    'à¤•à¥ƒà¤ªà¤¯à¤¾ à¤†à¤ªà¤²à¤¾ à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤Ÿà¤¾à¤•à¤¾';
                document.getElementById('passwordError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('passwordError').style.display = 'none';
            }
            
            if (isValid) {
                // In a real implementation, this would send a request to the server
                // For demo purposes, we'll simulate a successful login
                simulateLogin(username, password);
            }
        });

        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const fullName = document.getElementById('fullName').value;
            const phone = document.getElementById('phone').value;
            const email = document.getElementById('email').value;
            const location = document.getElementById('location').value;
            const password = document.getElementById('regPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            // Validation
            let isValid = true;
            
            if (!fullName) {
                document.getElementById('fullNameError').textContent = currentLang === 'en' ? 
                    'Please enter your full name' : 
                    'à¤•à¥ƒà¤ªà¤¯à¤¾ à¤†à¤ªà¤²à¥‡ à¤ªà¥‚à¤°à¥à¤£ à¤¨à¤¾à¤µ à¤Ÿà¤¾à¤•à¤¾';
                document.getElementById('fullNameError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('fullNameError').style.display = 'none';
            }
            
            if (!phone) {
                document.getElementById('phoneError').textContent = currentLang === 'en' ? 
                    'Please enter your phone number' : 
                    'à¤•à¥ƒà¤ªà¤¯à¤¾ à¤†à¤ªà¤²à¤¾ à¤«à¥‹à¤¨ à¤¨à¤‚à¤¬à¤° à¤Ÿà¤¾à¤•à¤¾';
                document.getElementById('phoneError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('phoneError').style.display = 'none';
            }
            
            if (!location) {
                document.getElementById('locationError').textContent = currentLang === 'en' ? 
                    'Please enter your location' : 
                    'à¤•à¥ƒà¤ªà¤¯à¤¾ à¤†à¤ªà¤²à¥‡ à¤¸à¥à¤¥à¤¾à¤¨ à¤Ÿà¤¾à¤•à¤¾';
                document.getElementById('locationError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('locationError').style.display = 'none';
            }
            
            if (!password) {
                document.getElementById('regPasswordError').textContent = currentLang === 'en' ? 
                    'Please enter a password' : 
                    'à¤•à¥ƒà¤ªà¤¯à¤¾ à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤Ÿà¤¾à¤•à¤¾';
                document.getElementById('regPasswordError').style.display = 'block';
                isValid = false;
            } else if (password.length < 6) {
                document.getElementById('regPasswordError').textContent = currentLang === 'en' ? 
                    'Password must be at least 6 characters' : 
                    'à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤•à¤¿à¤®à¤¾à¤¨ 6 à¤µà¤°à¥à¤£à¤¾à¤‚à¤šà¤¾ à¤…à¤¸à¤¾à¤µà¤¾';
                document.getElementById('regPasswordError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('regPasswordError').style.display = 'none';
            }
            
            if (!confirmPassword) {
                document.getElementById('confirmPasswordError').textContent = currentLang === 'en' ? 
                    'Please confirm your password' : 
                    'à¤•à¥ƒà¤ªà¤¯à¤¾ à¤†à¤ªà¤²à¥à¤¯à¤¾ à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡à¤šà¥€ à¤ªà¥à¤·à¥à¤Ÿà¥€ à¤•à¤°à¤¾';
                document.getElementById('confirmPasswordError').style.display = 'block';
                isValid = false;
            } else if (password !== confirmPassword) {
                document.getElementById('confirmPasswordError').textContent = currentLang === 'en' ? 
                    'Passwords do not match' : 
                    'à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤œà¥à¤³à¤¤ à¤¨à¤¾à¤¹à¥€à¤¤';
                document.getElementById('confirmPasswordError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('confirmPasswordError').style.display = 'none';
            }
            
            if (isValid) {
                // In a real implementation, this would send a request to the server
                // For demo purposes, we'll simulate a successful registration
                simulateRegistration(fullName, phone, email, location, password);
            }
        });

        // Simulate login (in a real app, this would be an API call)
        function simulateLogin(username, password) {
            // Show loading state
            const loginButton = document.getElementById('loginButton');
            const originalText = loginButton.textContent;
            loginButton.textContent = currentLang === 'en' ? 'Logging in...' : 'à¤²à¥‰à¤—à¤¿à¤¨ à¤•à¤°à¤¤ à¤†à¤¹à¥‡...';
            loginButton.disabled = true;
            
            // Simulate API call delay
            setTimeout(() => {
                // For demo, always succeed
                // In a real app, you would check credentials against a database
                
                // Store user session (in a real app, this would be a JWT token)
                localStorage.setItem('userLoggedIn', 'true');
                localStorage.setItem('username', username);
                
                // Show the app and hide the login page
                checkLoginStatus();
            }, 1500);
        }

        // Simulate registration (in a real app, this would be an API call)
        function simulateRegistration(fullName, phone, email, location, password) {
            // Show loading state
            const registerButton = document.getElementById('registerButton');
            const originalText = registerButton.textContent;
            registerButton.textContent = currentLang === 'en' ? 'Creating account...' : 'à¤–à¤¾à¤¤à¥‡ à¤¤à¤¯à¤¾à¤° à¤•à¤°à¤¤ à¤†à¤¹à¥‡...';
            registerButton.disabled = true;
            
            // Simulate API call delay
            setTimeout(() => {
                // For demo, always succeed
                // In a real app, you would create the user in a database
                
                // Store user session
                localStorage.setItem('userLoggedIn', 'true');
                localStorage.setItem('username', fullName);
                
                // Show success message
                alert(currentLang === 'en' ? 
                    'Account created successfully! Redirecting to application...' : 
                    'à¤–à¤¾à¤¤à¥‡ à¤¯à¤¶à¤¸à¥à¤µà¥€à¤°à¤¿à¤¤à¥à¤¯à¤¾ à¤¤à¤¯à¤¾à¤° à¤•à¥‡à¤²à¥‡! à¤…à¤¨à¥à¤ªà¥à¤°à¤¯à¥‹à¤—à¤¾à¤•à¤¡à¥‡ à¤ªà¥à¤¨à¤°à¥à¤¨à¤¿à¤°à¥à¤¦à¥‡à¤¶à¤¿à¤¤ à¤•à¤°à¤¤ à¤†à¤¹à¥‡...');
                
                // Show the app and hide the registration page
                checkLoginStatus();
            }, 2000);
        }

        // Initialize the application
        window.onload = function() {
            // Set up language
            updateUI(currentLang);
            
            // Check login status
            checkLoginStatus();
        };
    </script>
</body>
</html>